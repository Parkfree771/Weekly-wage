# 10분 간격 분할 실행 - 서비스 제한 확인

## 실행 횟수 계산

### 현재 (1시간 1번)
- 하루: 24번
- 한 달: 720번

### 변경 후 (1시간 2번 - 00분, 10분)
- 하루: 48번 (24시간 × 2)
- 한 달: 1,440번 (30일 × 48)

---

## 1. GitHub Actions 제한 (무료 플랜)

### 제한:
- **월 2,000분** 실행 시간

### 사용량:
- 각 워크플로우 실행: 약 30초 (curl 요청만)
- 월 사용량: 1,440번 × 0.5분 = **720분**
- **✅ 여유: 1,280분 (64% 남음)**

---

## 2. Netlify Functions 제한 (무료 플랜)

### 제한:
- **월 125,000회** 함수 호출
- **타임아웃: 10초 (고정)**

### 사용량:
- 월 호출: **1,440회**
- **✅ 여유: 123,560회 (99% 남음)**

### 타임아웃 체크:
- 거래소만 (33개): 9.9초 → ✅ 안전
- 경매장만 (4개): 1.2초 → ✅ 안전

---

## 3. 로스트아크 API 제한

### 공식 제한:
- **분당 100회** (확인 필요)
- **일일 제한 없음** (일반적)

### 사용량 (최악의 경우):
- 거래소 (00분): 33개 API 호출
- 경매장 (10분): 4개 API 호출 (auction API)
- **1시간당: 37개 호출**
- **분당: 0.6개** (10분 간격이므로 매우 여유)

### 분석:
- ✅ 10분 간격이므로 rate limit 걱정 없음
- ✅ 거래소와 경매장이 10분 차이로 분산됨
- ✅ 피크 시간에도 33개만 연속 호출

---

## 4. 데이터 정합성

### 거래소와 경매장 10분 차이:
- **문제 없음**: 각각 독립적인 데이터
- 거래소: API가 이미 평균가 제공
- 경매장: 실시간 최저가 수집

### 6시 로직:
- 06:00 → 거래소 전날 평균가 저장 ✅
- 06:10 → 경매장 전날 데이터 확정 ✅
- **완벽하게 분리됨**

---

## 5. 장점

1. ✅ **타임아웃 완전 해결**
   - 거래소: 9.9초 (여유)
   - 경매장: 1.2초 (매우 여유)

2. ✅ **확장 가능**
   - 나중에 아이템 추가해도 각 타입별로 10초 내 처리 가능

3. ✅ **부하 분산**
   - API 요청이 10분 간격으로 분산
   - 서버 부하 감소

4. ✅ **독립적 오류 처리**
   - 거래소 실패해도 경매장은 정상 작동
   - 디버깅 쉬움

---

## 6. 단점 (거의 없음)

1. ⚠️ **실행 횟수 2배**
   - 하지만 여전히 제한의 1% 미만 사용

2. ⚠️ **워크플로우 복잡도 증가**
   - 하지만 가독성은 오히려 더 좋아짐

---

## 결론

### ✅ 전혀 문제 없음!

- 모든 서비스 제한의 **1% 미만** 사용
- 타임아웃 문제 **완전 해결**
- 확장성, 안정성, 유지보수성 **모두 향상**

### 추천: 현재 방식 유지

10분 간격 분할 실행은 **최적의 솔루션**입니다!
