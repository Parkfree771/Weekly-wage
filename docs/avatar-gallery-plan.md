# ì•„ë°”íƒ€ ê°¤ëŸ¬ë¦¬ (Avatar Gallery) ê¸°ëŠ¥ ê³„íšì„œ

> ì‘ì„±ì¼: 2026-02-08
> í”„ë¡œì íŠ¸: ë¡œê³¨ë¡œê³¨ (lostarkweeklygold.kr)

---

## 1. ê¸°ëŠ¥ ê°œìš”

ë¡œìŠ¤íŠ¸ì•„í¬ ìºë¦­í„°ì˜ ì•„ë°”íƒ€ & ì—¼ìƒ‰ ì •ë³´ë¥¼ ê³µìœ í•˜ëŠ” **ê°¤ëŸ¬ë¦¬í˜• ê²Œì‹œíŒ**.
ì‚¬ìš©ìê°€ ìì‹ ì˜ ìºë¦­í„°ë¥¼ ê²€ìƒ‰í•˜ì—¬ ì•„ë°”íƒ€ë¥¼ ë“±ë¡í•˜ë©´, ë‹¤ë¥¸ ì‚¬ìš©ìë“¤ì´ ì—¼ìƒ‰ ì½”ë“œë¥¼ í™•ì¸í•˜ê³ 
ë³¸ì¸ ì…ë§›ëŒ€ë¡œ ìƒ‰ìƒì„ ìˆ˜ì •í•´ë³¼ ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.

### í•µì‹¬ ê¸°ëŠ¥
1. **ê°¤ëŸ¬ë¦¬ ë·°** - ë“±ë¡ëœ ì•„ë°”íƒ€ê°€ ì¹´ë“œ í˜•íƒœë¡œ ë‚˜ì—´ (ìºë¦­í„° ì´ë¯¸ì§€ + ì œëª©)
2. **ì•„ë°”íƒ€ ë“±ë¡** - ìºë¦­í„°ëª… ê²€ìƒ‰ â†’ APIë¡œ ì•„ë°”íƒ€ ë°ì´í„° ì¡°íšŒ â†’ ë¯¸ë¦¬ë³´ê¸° â†’ ë“±ë¡
3. **ìƒì„¸ ë³´ê¸°** - ê° ì•„ë°”íƒ€ ë¶€ìœ„ë³„ ì—¼ìƒ‰ ì •ë³´ (ìƒ‰ìƒ, ê´‘íƒ, íŒ¨í„´) ì „ì²´ í‘œì‹œ
4. **ì—¼ìƒ‰ í¸ì§‘ê¸°** - ìƒ‰ìƒ ì½”ë“œë¥¼ ë³€ê²½í•´ë³´ë©° ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸° (ì €ì¥ì€ ë³¸ì¸ ê²Œì‹œë¬¼ë§Œ)
5. **ë¡œê·¸ì¸ í•„ìˆ˜** - Firebase Google ë¡œê·¸ì¸ ì‚¬ìš©ìë§Œ ì´ìš© ê°€ëŠ¥

---

## 2. ë¼ìš°íŠ¸ êµ¬ì¡°

```
/avatar                    â†’ ê°¤ëŸ¬ë¦¬ ë©”ì¸ (ê²Œì‹œë¬¼ ëª©ë¡)
/avatar/register           â†’ ì•„ë°”íƒ€ ë“±ë¡ í˜ì´ì§€
/avatar/[postId]           â†’ ê²Œì‹œë¬¼ ìƒì„¸ ë³´ê¸° + ì—¼ìƒ‰ í¸ì§‘ê¸°
/avatar/edit/[postId]      â†’ ê²Œì‹œë¬¼ ìˆ˜ì • (ë³¸ì¸ë§Œ)
```

### ë ˆì´ì•„ì›ƒ
- `/app/avatar/layout.tsx` - ë©”íƒ€ë°ì´í„° + JSON-LD (ì„œë²„ ì»´í¬ë„ŒíŠ¸)
- `/app/avatar/page.tsx` - ê°¤ëŸ¬ë¦¬ ë©”ì¸ (í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸)
- `/app/avatar/register/page.tsx` - ë“±ë¡ í˜ì´ì§€ (í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸)
- `/app/avatar/[postId]/page.tsx` - ìƒì„¸ í˜ì´ì§€ (í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸)
- `/app/avatar/edit/[postId]/page.tsx` - ìˆ˜ì • í˜ì´ì§€ (í´ë¼ì´ì–¸íŠ¸ ì»´í¬ë„ŒíŠ¸)

### ë„¤ë¹„ê²Œì´ì…˜ ìƒ‰ìƒ
- `nav-avatar` í´ë˜ìŠ¤ ì¶”ê°€ (ì œì•ˆ: í•‘í¬/ë¡œì¦ˆ ê³„ì—´ `#e91e8c` ë˜ëŠ” ê³¨ë“œ ê³„ì—´)

---

## 3. ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„ (Firestore)

### 3-1. `avatarPosts` ì»¬ë ‰ì…˜

```typescript
interface AvatarPost {
  // ê¸°ë³¸ ì •ë³´
  id: string;                    // Firestore ìë™ ìƒì„± ID
  authorUid: string;             // Firebase Auth UID
  authorName: string;            // êµ¬ê¸€ í‘œì‹œ ì´ë¦„
  authorPhotoURL: string | null; // êµ¬ê¸€ í”„ë¡œí•„ ì‚¬ì§„

  // ìºë¦­í„° ì •ë³´
  characterName: string;         // "êµ¬ì•„ë°”ë°¤ë°”ì•„"
  characterClass: string;        // "ìŠ¬ë ˆì´ì–´"
  characterLevel: number;        // ì•„ì´í…œ ë ˆë²¨
  serverName: string;            // ì„œë²„ëª…
  characterImageUrl: string;     // Firebase Storage ì›ë³¸ ì´ë¯¸ì§€ URL
  characterThumbnailUrl: string;  // Firebase Storage ì¸ë„¤ì¼ ì´ë¯¸ì§€ URL (300x400 WebP)
  dominantColor: string;         // ì´ë¯¸ì§€ ëŒ€í‘œìƒ‰ HEX (ì˜ˆ: "#2A1F3D") - ë¡œë”© ë°°ê²½ìš©
  originalImageUrl: string;      // ë¡œì•„ API ì›ë³¸ ì´ë¯¸ì§€ URL (ê°±ì‹ ìš© ë°±ì—…)

  // ê²Œì‹œë¬¼ ì •ë³´
  title: string;                 // ê²Œì‹œë¬¼ ì œëª©
  description: string;           // ê°„ë‹¨í•œ ì„¤ëª…/ì½”ë©˜íŠ¸

  // ì•„ë°”íƒ€ ë°ì´í„° (API ì›ë³¸)
  avatarItems: AvatarItem[];     // ì¥ì°© ì•„ë°”íƒ€ ì „ì²´ ëª©ë¡

  // í†µê³„
  viewCount: number;
  likeCount: number;

  // ì‹œê°„
  createdAt: Timestamp;
  updatedAt: Timestamp;
}
```

### 3-2. `AvatarItem` íƒ€ì… (ì•„ë°”íƒ€ ë¶€ìœ„ë³„ ë°ì´í„°)

```typescript
interface AvatarItem {
  // API ê¸°ë³¸ í•„ë“œ
  type: string;                  // "ë¬´ê¸° ì•„ë°”íƒ€", "ë¨¸ë¦¬ ì•„ë°”íƒ€", "ìƒì˜ ì•„ë°”íƒ€", "í•˜ì˜ ì•„ë°”íƒ€", "ì–¼êµ´1 ì•„ë°”íƒ€", "ì–¼êµ´2 ì•„ë°”íƒ€", "ì´ë™ íš¨ê³¼"
  name: string;                  // "ì§€ë°°ì˜ ì˜ì› ëŒ€ê²€ (ê·€ì†)"
  icon: string;                  // ì•„ì´ì½˜ CDN URL
  grade: string;                 // "ì „ì„¤", "ì˜ì›…", "í¬ê·€" ë“±
  isSet: boolean;                // ì„¸íŠ¸ ì•„ë°”íƒ€ ì—¬ë¶€
  isInner: boolean;              // ì•ˆìª½(Inner) ì•„ë°”íƒ€ ì—¬ë¶€ (ë§ì…ê¸°)

  // ì—¼ìƒ‰ ì •ë³´ (Tooltipì˜ ItemTintGroupì—ì„œ íŒŒì‹±)
  dyeInfo: DyeInfo | null;       // ì—¼ìƒ‰ ì•ˆ ëœ ì•„ë°”íƒ€ëŠ” null
}
```

### 3-3. `DyeInfo` íƒ€ì… (í•µì‹¬ - ì—¼ìƒ‰ ìƒì„¸ ì •ë³´)

```typescript
interface DyeInfo {
  parts: DyePart[];              // ë¶€ìœ„ë³„ ì—¼ìƒ‰ (ë¶€ìœ„1, ë¶€ìœ„2, ë¶€ìœ„3...)
}

interface DyePart {
  title: string;                 // "ë¶€ìœ„1", "ë¶€ìœ„2", "ë¶€ìœ„3"
  baseColor: string;             // ê¸°ë³¸ ìƒ‰ìƒ HEX (ì˜ˆ: "#FF5500")
  glossValue: string;            // ê´‘íƒ í¼ì„¼íŠ¸ (ì˜ˆ: "50%")
  patternColor: string;          // íŒ¨í„´ ìƒ‰ìƒ HEX (ì˜ˆ: "#FFFFFF")
  patternHSV: {                  // íŒ¨í„´ HSV ê°’
    h: number;                   // Hue ìƒ‰ì¡° (0.0 ~ 1.0)
    s: number;                   // Saturation ì±„ë„ (0.0 ~ 1.0)
    v: number;                   // Value ëª…ë„ (0.0 ~ 1.0)
  };
  patternIcon: string | null;    // íŒ¨í„´ ì•„ì´ì½˜ URL (ì—†ìœ¼ë©´ null)
}
```

### 3-4. `avatarLikes` ì„œë¸Œì»¬ë ‰ì…˜

```typescript
// avatarPosts/{postId}/likes/{uid}
interface AvatarLike {
  uid: string;
  createdAt: Timestamp;
}
```

### 3-5. Firestore ì¸ë±ìŠ¤ (í•„ìš”ì‹œ)

```
ì»¬ë ‰ì…˜: avatarPosts
- createdAt DESC (ê¸°ë³¸ ì •ë ¬: ìµœì‹ ìˆœ)
- likeCount DESC (ì¸ê¸°ìˆœ ì •ë ¬)
- characterClass ASC, createdAt DESC (í´ë˜ìŠ¤ë³„ í•„í„°)
```

---

## 4. API ì„¤ê³„

### 4-1. ì•„ë°”íƒ€ ë°ì´í„° ì¡°íšŒ API (ìƒˆë¡œ ìƒì„±)

```
GET /api/lostark/avatars?characterName={ìºë¦­í„°ëª…}
```

**ì—­í• **: ë¡œìŠ¤íŠ¸ì•„í¬ ê³µì‹ APIì—ì„œ ì•„ë°”íƒ€ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ íŒŒì‹±í•œ ë’¤ ë°˜í™˜

**ë¡œìŠ¤íŠ¸ì•„í¬ API í˜¸ì¶œ**:
```
GET https://developer-lostark.game.onstove.com/armories/characters/{name}/avatars
Header: Authorization: bearer {LOSTARK_API_KEY}
```

**ì‘ë‹µ ì²˜ë¦¬ ë¡œì§**:
1. API ì›ë³¸ ì‘ë‹µ ìˆ˜ì‹  (ë°°ì—´)
2. ê° ì•„ë°”íƒ€ ì•„ì´í…œì˜ `Tooltip` í•„ë“œ (JSON ë¬¸ìì—´) íŒŒì‹±
3. `ItemTintGroup` íƒ€ì… Element íƒìƒ‰ â†’ ì—¼ìƒ‰ ì •ë³´ ì¶”ì¶œ
4. ì •ë¦¬ëœ `AvatarItem[]` í˜•íƒœë¡œ ë°˜í™˜

**ì‘ë‹µ ì˜ˆì‹œ**:
```json
{
  "characterName": "êµ¬ì•„ë°”ë°¤ë°”ì•„",
  "characterClass": "ìŠ¬ë ˆì´ì–´",
  "characterImageUrl": "https://...",
  "avatarItems": [
    {
      "type": "ë¨¸ë¦¬ ì•„ë°”íƒ€",
      "name": "ë©”íƒˆ ë² ì–´ ë´‡ ë¨¸ë¦¬",
      "icon": "https://cdn-lostark.game.onstove.com/...",
      "grade": "ì˜ì›…",
      "isSet": false,
      "isInner": false,
      "dyeInfo": {
        "parts": [
          {
            "title": "ë¶€ìœ„1",
            "baseColor": "#000000",
            "glossValue": "0%",
            "patternColor": "#FFFFFF",
            "patternHSV": { "h": 0.0, "s": 0.0, "v": 1.0 },
            "patternIcon": null
          }
        ]
      }
    },
    {
      "type": "ë¬´ê¸° ì•„ë°”íƒ€",
      "name": "ì§€ë°°ì˜ ì˜ì› ëŒ€ê²€ (ê·€ì†)",
      "icon": "https://...",
      "grade": "ì „ì„¤",
      "isSet": false,
      "isInner": true,
      "dyeInfo": null
    }
  ]
}
```

### 4-2. ìºë¦­í„° í”„ë¡œí•„ ì¡°íšŒ (ê¸°ì¡´ API í™œìš©)

```
GET /api/lostark?characterName={ìºë¦­í„°ëª…}
```

ê¸°ì¡´ `/api/lostark/route.ts`ì—ì„œ ì´ë¯¸ í”„ë¡œí•„+ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì˜¤ê³  ìˆìœ¼ë¯€ë¡œ,
ì•„ë°”íƒ€ ë“±ë¡ ì‹œ í”„ë¡œí•„ ì •ë³´ëŠ” ì´ APIë¥¼ í™œìš©í•˜ê³ , ì•„ë°”íƒ€ ë°ì´í„°ë§Œ ìƒˆ APIì—ì„œ ê°€ì ¸ì˜¨ë‹¤.

---

## 5. í˜ì´ì§€ë³„ ìƒì„¸ ì„¤ê³„

### 5-1. ê°¤ëŸ¬ë¦¬ ë©”ì¸ (`/avatar`)

**ë ˆì´ì•„ì›ƒ**: ì¹´ë“œ ê·¸ë¦¬ë“œ (ë°˜ì‘í˜•)
- PC: 4ì—´ / íƒœë¸”ë¦¿: 3ì—´ / ëª¨ë°”ì¼: 2ì—´

**ì¹´ë“œ êµ¬ì„±**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ìºë¦­í„° ì´ë¯¸ì§€]       â”‚  â† ë¡œì•„ API CharacterImage
â”‚                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ì œëª©                 â”‚
â”‚  ìºë¦­í„°ëª… Â· í´ë˜ìŠ¤     â”‚
â”‚  â¤ 12  ğŸ‘ 34         â”‚
â”‚  2026.02.09          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ê¸°ëŠ¥**:
- ì •ë ¬: ìµœì‹ ìˆœ / ì¸ê¸°ìˆœ(ì¢‹ì•„ìš”)
- í•„í„°: í´ë˜ìŠ¤ë³„ (ì „ì²´ / ì›Œë¦¬ì–´ê³„ì—´ / ë§ˆë²•ì‚¬ê³„ì—´ / ...)
- ê²€ìƒ‰: ì œëª© ë˜ëŠ” ìºë¦­í„°ëª… ê²€ìƒ‰
- í˜ì´ì§€ë„¤ì´ì…˜: ë¬´í•œ ìŠ¤í¬ë¡¤ ë˜ëŠ” í˜ì´ì§€ ë²ˆí˜¸ (Firestore limit/startAfter ì»¤ì„œ)
- ë¡œê·¸ì¸ ì•ˆ í•œ ìœ ì €: ê°¤ëŸ¬ë¦¬ ì—´ëŒì€ ê°€ëŠ¥í•˜ë˜, ë“±ë¡/ì¢‹ì•„ìš”ëŠ” ë¶ˆê°€ (ë¡œê·¸ì¸ ìœ ë„)

### 5-2. ì•„ë°”íƒ€ ë“±ë¡ (`/avatar/register`)

**ë¡œê·¸ì¸ í•„ìˆ˜** - ë¹„ë¡œê·¸ì¸ ì‹œ ë¡œê·¸ì¸ ì•ˆë‚´ í‘œì‹œ

**ë“±ë¡ í”Œë¡œìš°**:

```
[Step 1] ìºë¦­í„° ê²€ìƒ‰
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  ìºë¦­í„°ëª… ì…ë ¥: [____________]  â”‚
  â”‚  [ê²€ìƒ‰] ë²„íŠ¼                     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ API í˜¸ì¶œ
[Step 2] ì•„ë°”íƒ€ ë¯¸ë¦¬ë³´ê¸°
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  [ìºë¦­í„° ì´ë¯¸ì§€]                  â”‚
  â”‚  ìºë¦­í„°ëª…: êµ¬ì•„ë°”ë°¤ë°”ì•„            â”‚
  â”‚  í´ë˜ìŠ¤: ìŠ¬ë ˆì´ì–´                 â”‚
  â”‚  ì„œë²„: ë£¨í˜ì˜¨                    â”‚
  â”‚                                 â”‚
  â”‚  â”€â”€ ì¥ì°© ì•„ë°”íƒ€ ëª©ë¡ â”€â”€           â”‚
  â”‚  ğŸ”¸ ë¨¸ë¦¬: ë©”íƒˆ ë² ì–´ ë´‡ ë¨¸ë¦¬ [ì˜ì›…] â”‚
  â”‚     â”” ì—¼ìƒ‰: ë¶€ìœ„1 â– #000000 ...  â”‚
  â”‚  ğŸ”¸ ìƒì˜: ë‚¼ë¡¬ ì˜ë¡œ ëºŒ ëª¸í†µ [ì˜ì›…] â”‚
  â”‚     â”” ì—¼ìƒ‰: ë¶€ìœ„1~3 â–  â–  â–       â”‚
  â”‚  ğŸ”¸ í•˜ì˜: ì§€ë°°ì˜ ì˜ì› í•˜ì˜ [ì „ì„¤]  â”‚
  â”‚     â”” ì—¼ìƒ‰: ì—†ìŒ                 â”‚
  â”‚  ... (ëª¨ë“  ë¶€ìœ„)                  â”‚
  â”‚                                 â”‚
  â”‚  â”€â”€ ë§ì…ê¸° ì•„ë°”íƒ€ ëª©ë¡ â”€â”€         â”‚
  â”‚  (IsInner = trueì¸ í•­ëª©)         â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“
[Step 3] ê²Œì‹œë¬¼ ì‘ì„±
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚  ì œëª©: [____________________]   â”‚
  â”‚  ì„¤ëª…: [____________________]   â”‚
  â”‚        [____________________]   â”‚
  â”‚                                 â”‚
  â”‚  [ë“±ë¡í•˜ê¸°] ë²„íŠ¼                  â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì„¸ë¶€ ì‚¬í•­**:
- ìºë¦­í„° ê²€ìƒ‰ ì‹œ `/api/lostark`(í”„ë¡œí•„) + `/api/lostark/avatars`(ì•„ë°”íƒ€) ë™ì‹œ í˜¸ì¶œ
- ê²€ìƒ‰ ê²°ê³¼ì—ì„œ ì•„ë°”íƒ€ ë¯¸ë¦¬ë³´ê¸°ë¥¼ ë³´ì—¬ì£¼ê³ , ì‚¬ìš©ìê°€ í™•ì¸ í›„ ì œëª©/ì„¤ëª… ì…ë ¥
- Tooltip JSONì—ì„œ `ItemTintGroup` íŒŒì‹±í•˜ì—¬ ì—¼ìƒ‰ ì •ë³´ ì¶”ì¶œ
- ê²‰ì•„ë°”íƒ€ / ì•ˆìª½ì•„ë°”íƒ€(ë§ì…ê¸°) êµ¬ë¶„í•˜ì—¬ í‘œì‹œ
- ë“±ë¡ ì‹œ Firestore `avatarPosts` ì»¬ë ‰ì…˜ì— ì €ì¥

### 5-3. ìƒì„¸ í˜ì´ì§€ (`/avatar/[postId]`)

**ì¢Œì¸¡: ìºë¦­í„° ë¹„ì£¼ì–¼**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ìºë¦­í„° ì´ë¯¸ì§€ (í° ì‚¬ì´ì¦ˆ)]                                â”‚
â”‚                                                          â”‚
â”‚  ìºë¦­í„°ëª…: êµ¬ì•„ë°”ë°¤ë°”ì•„                                     â”‚
â”‚  í´ë˜ìŠ¤: ìŠ¬ë ˆì´ì–´ | ì„œë²„: ë£¨í˜ì˜¨ | ì•„ì´í…œë ˆë²¨: 1680         â”‚
â”‚                                                          â”‚
â”‚  ì‘ì„±ì: OOO | 2026.02.09 | ğŸ‘ 34 | â¤ 12 [ì¢‹ì•„ìš”ë²„íŠ¼]     â”‚
â”‚  ì„¤ëª…: "ì´ë²ˆ ì‹œì¦Œ ë©”íƒˆ ë² ì–´ + ë‚¼ë¡¬ ì¡°í•© ì—¼ìƒ‰ì…ë‹ˆë‹¤~"         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ìš°ì¸¡/í•˜ë‹¨: ì•„ë°”íƒ€ & ì—¼ìƒ‰ ìƒì„¸**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”€â”€ ê²‰ ì•„ë°”íƒ€ â”€â”€                                          â”‚
â”‚                                                          â”‚
â”‚  [ì•„ì´ì½˜] ë¨¸ë¦¬: ë©”íƒˆ ë² ì–´ ë´‡ ë¨¸ë¦¬        ë“±ê¸‰: ì˜ì›…         â”‚
â”‚  â”Œâ”€ ì—¼ìƒ‰ ì •ë³´ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ë¶€ìœ„1                                              â”‚  â”‚
â”‚  â”‚  ê¸°ë³¸ìƒ‰: â–  #000000  [ì»¬ëŸ¬í”¼ì»¤]                       â”‚  â”‚
â”‚  â”‚  ê´‘íƒ:   0%         [ìŠ¬ë¼ì´ë” 0~100%]               â”‚  â”‚
â”‚  â”‚  íŒ¨í„´ìƒ‰: â–  #FFFFFF  [ì»¬ëŸ¬í”¼ì»¤]                       â”‚  â”‚
â”‚  â”‚  íŒ¨í„´ HSV: H 0.0 / S 0.0 / V 1.0                  â”‚  â”‚
â”‚  â”‚  íŒ¨í„´ ì•„ì´ì½˜: ì—†ìŒ                                   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                          â”‚
â”‚  [ì•„ì´ì½˜] ìƒì˜: ë‚¼ë¡¬ ì˜ë¡œ ëºŒ ëª¸í†µ        ë“±ê¸‰: ì˜ì›…         â”‚
â”‚  â”Œâ”€ ì—¼ìƒ‰ ì •ë³´ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ë¶€ìœ„1                                              â”‚  â”‚
â”‚  â”‚  ê¸°ë³¸ìƒ‰: â–  #000000  [ì»¬ëŸ¬í”¼ì»¤]                       â”‚  â”‚
â”‚  â”‚  ê´‘íƒ:   0%         [ìŠ¬ë¼ì´ë”]                       â”‚  â”‚
â”‚  â”‚  íŒ¨í„´ìƒ‰: â–  #FFFFFF  [ì»¬ëŸ¬í”¼ì»¤]                       â”‚  â”‚
â”‚  â”‚  íŒ¨í„´ HSV: H 0.0 / S 0.0 / V 1.0                  â”‚  â”‚
â”‚  â”‚                                                     â”‚  â”‚
â”‚  â”‚  ë¶€ìœ„2                                              â”‚  â”‚
â”‚  â”‚  ê¸°ë³¸ìƒ‰: â–  #000000  [ì»¬ëŸ¬í”¼ì»¤]                       â”‚  â”‚
â”‚  â”‚  ê´‘íƒ:   0%         [ìŠ¬ë¼ì´ë”]                       â”‚  â”‚
â”‚  â”‚  íŒ¨í„´ìƒ‰: â–  #FFFFFF  [ì»¬ëŸ¬í”¼ì»¤]                       â”‚  â”‚
â”‚  â”‚  íŒ¨í„´ HSV: H 0.0 / S 0.0 / V 1.0                  â”‚  â”‚
â”‚  â”‚                                                     â”‚  â”‚
â”‚  â”‚  ë¶€ìœ„3                                              â”‚  â”‚
â”‚  â”‚  ê¸°ë³¸ìƒ‰: â–  #000000  [ì»¬ëŸ¬í”¼ì»¤]                       â”‚  â”‚
â”‚  â”‚  ê´‘íƒ:   0%         [ìŠ¬ë¼ì´ë”]                       â”‚  â”‚
â”‚  â”‚  íŒ¨í„´ìƒ‰: â–  #FFFFFF  [ì»¬ëŸ¬í”¼ì»¤]                       â”‚  â”‚
â”‚  â”‚  íŒ¨í„´ HSV: H 0.0 / S 0.0 / V 1.0                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                          â”‚
â”‚  â”€â”€ ì•ˆìª½ ì•„ë°”íƒ€ (ë§ì…ê¸°) â”€â”€                                â”‚
â”‚  [ì•„ì´ì½˜] ë¬´ê¸°: ì§€ë°°ì˜ ì˜ì› ëŒ€ê²€    ë“±ê¸‰: ì „ì„¤               â”‚
â”‚  â”” ì—¼ìƒ‰ ì—†ìŒ                                              â”‚
â”‚  ...                                                     â”‚
â”‚                                                          â”‚
â”‚  â”€â”€ ì´ë™ íš¨ê³¼ â”€â”€                                          â”‚
â”‚  [ì•„ì´ì½˜] ì–´ë‘ ì˜ ê¶¤ì  ì´ë™ íš¨ê³¼    ë“±ê¸‰: ì˜ì›…               â”‚
â”‚  â”” ì—¼ìƒ‰ ì—†ìŒ                                              â”‚
â”‚                                                          â”‚
â”‚  [ìˆ˜ì •] [ì‚­ì œ]  â† ë³¸ì¸ ê²Œì‹œë¬¼ì¼ ë•Œë§Œ í‘œì‹œ                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5-4. ì—¼ìƒ‰ í¸ì§‘ê¸° (ìƒì„¸ í˜ì´ì§€ ë‚´ ì¸ë¼ì¸)

**í•µì‹¬ ê¸°ëŠ¥**: ê²Œì‹œë¬¼ì˜ ì—¼ìƒ‰ ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìƒ‰ìƒì„ ë³€ê²½í•´ë³¼ ìˆ˜ ìˆëŠ” ë„êµ¬

**í¸ì§‘ ê°€ëŠ¥í•œ í•­ëª© (ë¶€ìœ„ë³„)**:
| í•­ëª© | UI ì»¨íŠ¸ë¡¤ | ê°’ ë²”ìœ„ |
|------|-----------|---------|
| ê¸°ë³¸ìƒ‰ (baseColor) | ì»¬ëŸ¬í”¼ì»¤ + HEX ì…ë ¥ | #000000 ~ #FFFFFF |
| ê´‘íƒ (glossValue) | ìŠ¬ë¼ì´ë” + % í‘œì‹œ | 0% ~ 100% |
| íŒ¨í„´ìƒ‰ (patternColor) | ì»¬ëŸ¬í”¼ì»¤ + HEX ì…ë ¥ | #000000 ~ #FFFFFF |
| íŒ¨í„´ ìƒ‰ì¡° H (patternHSV.h) | ìŠ¬ë¼ì´ë” | 0.0 ~ 1.0 |
| íŒ¨í„´ ì±„ë„ S (patternHSV.s) | ìŠ¬ë¼ì´ë” | 0.0 ~ 1.0 |
| íŒ¨í„´ ëª…ë„ V (patternHSV.v) | ìŠ¬ë¼ì´ë” | 0.0 ~ 1.0 |

**ë™ì‘ ë°©ì‹**:
- ê¸°ë³¸ ìƒíƒœ: ì›ë³¸ ì—¼ìƒ‰ ì½”ë“œ í‘œì‹œ (ì½ê¸° ëª¨ë“œ)
- "ì—¼ìƒ‰ í¸ì§‘" ë²„íŠ¼ í´ë¦­ â†’ ì»¬ëŸ¬í”¼ì»¤/ìŠ¬ë¼ì´ë” í™œì„±í™”
- ë³€ê²½ ì‹œ ì‹¤ì‹œê°„ìœ¼ë¡œ ìƒ‰ìƒ ë¯¸ë¦¬ë³´ê¸° ë°•ìŠ¤ê°€ ë³€ê²½ë¨
- **ìƒ‰ìƒ ë¯¸ë¦¬ë³´ê¸° ë°•ìŠ¤**: ê° ë¶€ìœ„ë³„ë¡œ ê¸°ë³¸ìƒ‰ + íŒ¨í„´ìƒ‰ì´ ì‹œê°ì ìœ¼ë¡œ í‘œí˜„
  - ê¸°ë³¸ìƒ‰ ì‚¬ê°í˜• ìœ„ì— íŒ¨í„´ìƒ‰ ì˜¤ë²„ë ˆì´ (ê´‘íƒì€ ê·¸ë¼ë°ì´ì…˜ íš¨ê³¼)
- "ì›ë³¸ìœ¼ë¡œ ë˜ëŒë¦¬ê¸°" ë²„íŠ¼
- "HEX ì½”ë“œ ë³µì‚¬" ë²„íŠ¼ (í´ë¦½ë³´ë“œì— ì—¼ìƒ‰ ì½”ë“œ ì „ì²´ ë³µì‚¬)
- ë³¸ì¸ ê²Œì‹œë¬¼: ìˆ˜ì •í•œ ë‚´ìš©ì„ DBì— ì €ì¥ ê°€ëŠ¥
- íƒ€ì¸ ê²Œì‹œë¬¼: í¸ì§‘ì€ ê°€ëŠ¥í•˜ì§€ë§Œ ì €ì¥ì€ ë¶ˆê°€ (ë³´ê¸° ì „ìš© ì²´í—˜)

---

## 6. ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°

### ìƒˆë¡œ ìƒì„±í•  íŒŒì¼ë“¤

```
app/avatar/
â”œâ”€â”€ layout.tsx                       # ë©”íƒ€ë°ì´í„°, JSON-LD
â”œâ”€â”€ page.tsx                         # ê°¤ëŸ¬ë¦¬ ë©”ì¸
â”œâ”€â”€ avatar.module.css                # ê°¤ëŸ¬ë¦¬ ìŠ¤íƒ€ì¼
â”œâ”€â”€ register/
â”‚   â””â”€â”€ page.tsx                     # ë“±ë¡ í˜ì´ì§€
â”œâ”€â”€ [postId]/
â”‚   â””â”€â”€ page.tsx                     # ìƒì„¸ í˜ì´ì§€ + ì—¼ìƒ‰ í¸ì§‘ê¸°
â””â”€â”€ edit/
    â””â”€â”€ [postId]/
        â””â”€â”€ page.tsx                 # ìˆ˜ì • í˜ì´ì§€

components/avatar/
â”œâ”€â”€ AvatarGalleryCard.tsx            # ê°¤ëŸ¬ë¦¬ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ AvatarGalleryCard.module.css
â”œâ”€â”€ AvatarItemList.tsx               # ì•„ë°”íƒ€ ë¶€ìœ„ ëª©ë¡ (ê²‰/ì•ˆìª½ êµ¬ë¶„)
â”œâ”€â”€ AvatarItemList.module.css
â”œâ”€â”€ DyeInfoDisplay.tsx               # ì—¼ìƒ‰ ì •ë³´ í‘œì‹œ (ì½ê¸° ëª¨ë“œ)
â”œâ”€â”€ DyeInfoDisplay.module.css
â”œâ”€â”€ DyeEditor.tsx                    # ì—¼ìƒ‰ í¸ì§‘ê¸° (ì»¬ëŸ¬í”¼ì»¤ + ìŠ¬ë¼ì´ë”)
â”œâ”€â”€ DyeEditor.module.css
â”œâ”€â”€ ColorPreviewBox.tsx              # ìƒ‰ìƒ ë¯¸ë¦¬ë³´ê¸° ë°•ìŠ¤
â”œâ”€â”€ AvatarSearchForm.tsx             # ìºë¦­í„° ê²€ìƒ‰ í¼
â””â”€â”€ AvatarRegisterPreview.tsx        # ë“±ë¡ ì „ ë¯¸ë¦¬ë³´ê¸°

app/api/lostark/avatars/
â””â”€â”€ route.ts                         # ì•„ë°”íƒ€ API ì—”ë“œí¬ì¸íŠ¸

lib/
â””â”€â”€ avatar-service.ts                # ì•„ë°”íƒ€ ê²Œì‹œë¬¼ CRUD (Firestore)

types/
â””â”€â”€ avatar.ts                        # ì•„ë°”íƒ€ ê´€ë ¨ íƒ€ì… ì •ì˜
```

---

## 7. ì£¼ìš” ì»´í¬ë„ŒíŠ¸ ìƒì„¸

### 7-1. `DyeEditor.tsx` (ì—¼ìƒ‰ í¸ì§‘ê¸°)

```typescript
interface DyeEditorProps {
  parts: DyePart[];               // ì›ë³¸ ì—¼ìƒ‰ ë°ì´í„°
  editable: boolean;              // trueë©´ ìˆ˜ì • ê°€ëŠ¥ (ë³¸ì¸ ê²Œì‹œë¬¼)
  onSave?: (parts: DyePart[]) => void;  // ì €ì¥ ì½œë°±
}
```

**ê° ë¶€ìœ„ë³„ ë Œë”ë§**:
```
â”Œâ”€ ë¶€ìœ„1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                   â”‚
â”‚  ê¸°ë³¸ìƒ‰     [â–  ë¯¸ë¦¬ë³´ê¸°] #FF5500  [ì»¬ëŸ¬í”¼ì»¤ ì—´ê¸°]   â”‚
â”‚  ê´‘íƒ       [======â—=========] 50%                â”‚
â”‚  íŒ¨í„´ìƒ‰     [â–  ë¯¸ë¦¬ë³´ê¸°] #FFFFFF  [ì»¬ëŸ¬í”¼ì»¤ ì—´ê¸°]   â”‚
â”‚  íŒ¨í„´ HSV                                         â”‚
â”‚    ìƒ‰ì¡°(H)  [â—==================] 0.00            â”‚
â”‚    ì±„ë„(S)  [â—==================] 0.00            â”‚
â”‚    ëª…ë„(V)  [==================â—] 1.00            â”‚
â”‚  íŒ¨í„´ ì•„ì´ì½˜  [ì•„ì´ì½˜ ì´ë¯¸ì§€ ë˜ëŠ” "ì—†ìŒ"]            â”‚
â”‚                                                   â”‚
â”‚  [ë¯¸ë¦¬ë³´ê¸°]                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚   ê¸°ë³¸ìƒ‰ + íŒ¨í„´ ì˜¤ë²„ë ˆì´  â”‚  â† ì‹¤ì‹œê°„ ë³€ê²½      â”‚
â”‚  â”‚   (ê´‘íƒ íš¨ê³¼ ì ìš©)       â”‚                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì»¬ëŸ¬í”¼ì»¤ êµ¬í˜„**:
- `<input type="color" />` (ë„¤ì´í‹°ë¸Œ ë¸Œë¼ìš°ì € ì»¬ëŸ¬í”¼ì»¤) ì‚¬ìš©
- ì¶”ê°€ë¡œ HEX ì§ì ‘ ì…ë ¥ ê°€ëŠ¥í•œ í…ìŠ¤íŠ¸ ì…ë ¥
- ë˜ëŠ” `react-colorful` ë¼ì´ë¸ŒëŸ¬ë¦¬ (ê°€ë³ê³  ì˜ì¡´ì„± ì—†ìŒ, ~2KB)

### 7-2. `ColorPreviewBox.tsx` (ìƒ‰ìƒ ë¯¸ë¦¬ë³´ê¸°)

```typescript
interface ColorPreviewBoxProps {
  baseColor: string;         // ê¸°ë³¸ìƒ‰
  glossValue: string;        // ê´‘íƒ
  patternColor: string;      // íŒ¨í„´ìƒ‰
  patternHSV: { h: number; s: number; v: number };
  size?: 'sm' | 'md' | 'lg';
}
```

**ë Œë”ë§**:
- ê¸°ë³¸ìƒ‰ ë°°ê²½ ì‚¬ê°í˜•
- íŒ¨í„´ìƒ‰ì„ ì²´ì»¤ë³´ë“œ íŒ¨í„´ ë˜ëŠ” ê·¸ë¼ë°ì´ì…˜ìœ¼ë¡œ ì˜¤ë²„ë ˆì´
- ê´‘íƒì€ ìƒë‹¨ì— ë°˜íˆ¬ëª… í°ìƒ‰ ê·¸ë¼ë°ì´ì…˜ìœ¼ë¡œ í‘œí˜„
- HEX ì½”ë“œë¥¼ ì‚¬ê°í˜• ì•„ë˜ì— í…ìŠ¤íŠ¸ë¡œ í‘œì‹œ

### 7-3. `AvatarGalleryCard.tsx` (ê°¤ëŸ¬ë¦¬ ì¹´ë“œ)

```typescript
interface AvatarGalleryCardProps {
  post: AvatarPost;
}
```

**í‘œì‹œ ë‚´ìš©**:
- ìºë¦­í„° ì´ë¯¸ì§€ (ë¡œì•„ API ì´ë¯¸ì§€)
- ê²Œì‹œë¬¼ ì œëª©
- ìºë¦­í„°ëª… + í´ë˜ìŠ¤ ì•„ì´ì½˜
- ì¢‹ì•„ìš” ìˆ˜ + ì¡°íšŒìˆ˜
- ë“±ê¸‰ ë±ƒì§€ (ì¥ì°© ì¤‘ì¸ ì•„ë°”íƒ€ì˜ ìµœê³  ë“±ê¸‰)
- ì‘ì„±ì¼

---

## 8. Firestore CRUD í•¨ìˆ˜ (`lib/avatar-service.ts`)

```typescript
// ê²Œì‹œë¬¼ ìƒì„±
createAvatarPost(post: Omit<AvatarPost, 'id'>): Promise<string>

// ê²Œì‹œë¬¼ ëª©ë¡ ì¡°íšŒ (í˜ì´ì§€ë„¤ì´ì…˜)
getAvatarPosts(options: {
  orderBy: 'createdAt' | 'likeCount';
  filterClass?: string;
  searchQuery?: string;
  limit: number;
  startAfter?: DocumentSnapshot;
}): Promise<{ posts: AvatarPost[]; lastDoc: DocumentSnapshot | null }>

// ê²Œì‹œë¬¼ ë‹¨ê±´ ì¡°íšŒ
getAvatarPost(postId: string): Promise<AvatarPost | null>

// ê²Œì‹œë¬¼ ìˆ˜ì • (ì œëª©, ì„¤ëª…, ì—¼ìƒ‰ í¸ì§‘ ê²°ê³¼)
updateAvatarPost(postId: string, data: Partial<AvatarPost>): Promise<void>

// ê²Œì‹œë¬¼ ì‚­ì œ
deleteAvatarPost(postId: string): Promise<void>

// ì¢‹ì•„ìš” í† ê¸€
toggleAvatarLike(postId: string, uid: string): Promise<boolean>

// ì¡°íšŒìˆ˜ ì¦ê°€
incrementViewCount(postId: string): Promise<void>

// ë‚´ ê²Œì‹œë¬¼ ëª©ë¡
getMyAvatarPosts(uid: string): Promise<AvatarPost[]>
```

---

## 9. API Tooltip íŒŒì‹± ë¡œì§

ë¡œìŠ¤íŠ¸ì•„í¬ APIì˜ ì•„ë°”íƒ€ ì‘ë‹µì—ì„œ `Tooltip`ì€ JSON ë¬¸ìì—´ì´ë‹¤.
ì´ë¥¼ íŒŒì‹±í•˜ì—¬ `DyeInfo`ë¥¼ ì¶”ì¶œí•˜ëŠ” ë¡œì§:

```typescript
function parseAvatarTooltip(tooltipStr: string): DyeInfo | null {
  const tooltip = JSON.parse(tooltipStr);

  // ëª¨ë“  Element_XXXë¥¼ ìˆœíšŒí•˜ë©° ItemTintGroup íƒ€ì… ì°¾ê¸°
  for (const key of Object.keys(tooltip)) {
    const element = tooltip[key];
    if (element?.type === 'ItemTintGroup') {
      const itemData = element.value.itemData;
      const parts: DyePart[] = [];

      for (const partKey of Object.keys(itemData)) {
        const part = itemData[partKey];
        parts.push({
          title: part.title,              // "ë¶€ìœ„1", "ë¶€ìœ„2" ...
          baseColor: part.baseColor,      // "#000000"
          glossValue: part.glossValue,    // "0%"
          patternColor: part.patternColor,// "#FFFFFF"
          patternHSV: {
            h: part.patternHSV.Element_000,  // 0.0
            s: part.patternHSV.Element_001,  // 0.0
            v: part.patternHSV.Element_002,  // 1.0
          },
          patternIcon: part.patternIcon,  // null ë˜ëŠ” URL
        });
      }

      return { parts };
    }
  }

  return null; // ì—¼ìƒ‰ ì •ë³´ ì—†ìŒ
}
```

---

## 10. ê¸°ìˆ  ìŠ¤íƒ & ì˜ì¡´ì„±

### ê¸°ì¡´ í™œìš©
- Next.js 16 + React 19 + TypeScript
- React Bootstrap (Card, Button, Modal, Form, Spinner ë“±)
- Firebase Auth (ë¡œê·¸ì¸)
- Firestore (ë°ì´í„° ì €ì¥)
- CSS Modules + globals.css (í…Œë§ˆ)

### ì¶”ê°€ ê³ ë ¤
- **ì»¬ëŸ¬í”¼ì»¤**: ë„¤ì´í‹°ë¸Œ `<input type="color" />` ìš°ì„ , í•„ìš”ì‹œ `react-colorful` ë„ì…
- **í´ë¦½ë³´ë“œ ë³µì‚¬**: `navigator.clipboard.writeText()` (ë³„ë„ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¶ˆí•„ìš”)
- **ì´ë¯¸ì§€ ìµœì í™”**: Next.js `<Image />` ì»´í¬ë„ŒíŠ¸ (ë¡œì•„ CDN ì´ë¯¸ì§€ ì™¸ë¶€ ë„ë©”ì¸ ì„¤ì •)
- **ì„œë²„ ìºì‹±**: ì•„ë˜ ì„¹ì…˜ 11 ë¹„êµ ë¶„ì„ ì°¸ê³ 
- **í´ë¼ì´ì–¸íŠ¸ ìºì‹±**: ì•„ë˜ ì„¹ì…˜ 11 ë¹„êµ ë¶„ì„ ì°¸ê³ 

---

## 11. ì„±ëŠ¥ ìµœì í™” ì „ëµ (í•µì‹¬)

> **ëª©í‘œ**: ê°¤ëŸ¬ë¦¬/ìƒì„¸ í˜ì´ì§€ëŠ” ì™¸ë¶€ API ëŒ€ê¸° ì—†ì´ ì¦‰ì‹œ ì½˜í…ì¸ ë¥¼ í‘œì‹œí•œë‹¤.
> ë¡œì•„ API í˜¸ì¶œì€ ë“±ë¡ ì‹œì ì—ë§Œ ë°œìƒí•˜ê³ , ì—´ëŒ ì‹œì—ëŠ” Firestoreë§Œ ì½ëŠ”ë‹¤.

### 11-1. ê°€ì¥ í° ë³‘ëª©: ì´ë¯¸ì§€ ë¡œë”© ë¬¸ì œ

ê°¤ëŸ¬ë¦¬ í˜ì´ì§€ì˜ ì§„ì§œ ë³‘ëª©ì€ ë°ì´í„°ê°€ ì•„ë‹ˆë¼ **ì´ë¯¸ì§€**ë‹¤.

- ê°¤ëŸ¬ë¦¬ì— ì¹´ë“œ 20~40ê°œê°€ ëœ¨ë©´, ê° ì¹´ë“œë§ˆë‹¤ ìºë¦­í„° ì´ë¯¸ì§€ë¥¼ ë¡œë”©í•´ì•¼ í•¨
- ìºë¦­í„° ì´ë¯¸ì§€ URLì€ ë¡œì•„ APIê°€ ì£¼ëŠ” ì™¸ë¶€ URL (`img.lostark.co.kr`)
- ì´ ì´ë¯¸ì§€ëŠ” ìºë¦­í„° ì „ì‹  ë Œë”ë§ì´ë¼ ìš©ëŸ‰ì´ í¼ (200~600KB)
- ë¸Œë¼ìš°ì €ëŠ” ê°™ì€ ë„ë©”ì¸ì— ë™ì‹œ 6ê°œê¹Œì§€ë§Œ ì—°ê²° â†’ 40ì¥ì´ë©´ 7ë²ˆì— ë‚˜ëˆ ì„œ ë¡œë”©
- ë¡œì•„ CDNì´ ëŠë¦° ì‹œê°„ëŒ€ë©´ ê°¤ëŸ¬ë¦¬ ì „ì²´ê°€ ëŠë ¤ì§
- ì´ë¯¸ì§€ URLì´ ë§Œë£Œë˜ê±°ë‚˜, ìœ ì €ê°€ ì™¸í˜•ì„ ë°”ê¾¸ë©´ ê¹¨ì§„ ì´ë¯¸ì§€ ë°œìƒ

Firestoreì—ì„œ ê²Œì‹œë¬¼ ë°ì´í„°ë¥¼ 200msì— ê°€ì ¸ì™€ë„, ì´ë¯¸ì§€ 40ì¥ì´ ê°ê° 1ì´ˆì”© ê±¸ë¦¬ë©´
ì‚¬ìš©ì ì²´ê°ì€ **ë§¤ìš° ëŠë¦° í˜ì´ì§€**ê°€ ëœë‹¤.

### 11-2. ì´ë¯¸ì§€ ì²˜ë¦¬ ë°©ì•ˆ ë¹„êµ

#### ë°©ì•ˆ A: ë¡œì•„ CDN URLì„ ê·¸ëŒ€ë¡œ ì‚¬ìš© + Next.js Image

```
Firestoreì— ì €ì¥: "https://img.lostark.co.kr/armory/12/.../abc123.png"
ê°¤ëŸ¬ë¦¬ ë Œë”ë§: <Image src={ìœ„ URL} /> â†’ Next.jsê°€ ìë™ ìµœì í™”
```

| ì¥ì  | ë‹¨ì  |
|------|------|
| êµ¬í˜„ì´ ê°€ì¥ ê°„ë‹¨ | ë¡œì•„ CDN ì†ë„ì— ì˜ì¡´ (í†µì œ ë¶ˆê°€) |
| ë³„ë„ ìŠ¤í† ë¦¬ì§€ ë¹„ìš© ì—†ìŒ | ì´ë¯¸ì§€ URL ë§Œë£Œ/ë³€ê²½ ì‹œ ê¹¨ì§ |
| next.configì— ì´ë¯¸ ë„ë©”ì¸ ì„¤ì •ë¨ | ì²« ë¡œë”© ì‹œ Next.js ìµœì í™” + ì›ë³¸ fetchê°€ ê²¹ì³ì„œ ëŠë¦´ ìˆ˜ ìˆìŒ |
| Netlifyê°€ ìµœì í™”ëœ ì´ë¯¸ì§€ ìºì‹± (1ë…„ TTL ì„¤ì • ì™„ë£Œ) | ìºì‹œ ë¯¸ìŠ¤ ì‹œ ë§¤ë²ˆ ë¡œì•„ CDNê¹Œì§€ ì™•ë³µ |

#### ë°©ì•ˆ B: Firebase Storageì— ì´ë¯¸ì§€ ë³µì‚¬ ì €ì¥

```
ë“±ë¡ ì‹œ: ë¡œì•„ API â†’ ì´ë¯¸ì§€ URL íšë“ â†’ ì„œë²„ì—ì„œ ë‹¤ìš´ë¡œë“œ â†’ Firebase Storage ì—…ë¡œë“œ
Firestoreì— ì €ì¥: "https://firebasestorage.googleapis.com/.../avatar_123.webp"
ê°¤ëŸ¬ë¦¬ ë Œë”ë§: <Image src={Firebase Storage URL} />
```

| ì¥ì  | ë‹¨ì  |
|------|------|
| Google CDNì´ë¼ êµ­ë‚´ ì†ë„ ë§¤ìš° ë¹ ë¦„ | êµ¬í˜„ ë³µì¡ë„ ì¦ê°€ (ë“±ë¡ ì‹œ ë‹¤ìš´ë¡œë“œ+ì—…ë¡œë“œ) |
| URLì´ ì˜êµ¬ì , ë§Œë£Œ ì—†ìŒ | Firebase Storage ë¹„ìš© (ë¬´ë£Œ 5GB/1GBì¼ ë‹¤ìš´ë¡œë“œ) |
| ì—…ë¡œë“œ ì‹œ WebPë¡œ ë³€í™˜/ë¦¬ì‚¬ì´ì¦ˆ ê°€ëŠ¥ | ë“±ë¡ ì‹œê°„ì´ 2~3ì´ˆ ë” ê±¸ë¦¼ |
| ë¡œì•„ CDN ì¥ì• ì™€ ì™„ì „íˆ ë¬´ê´€ | ìºë¦­í„° ì™¸í˜• ë³€ê²½ì´ ìë™ ë°˜ì˜ ì•ˆ ë¨ |
| Firebase Admin SDKì— Storage ì´ë¯¸ importë¨ | ìŠ¤í† ë¦¬ì§€ ê´€ë¦¬ í•„ìš” (ì‚­ì œ ì‹œ ì´ë¯¸ì§€ë„ ì‚­ì œ) |

#### ë°©ì•ˆ C: í•˜ì´ë¸Œë¦¬ë“œ (ê¶Œì¥)

```
ë“±ë¡ ì‹œ: ë¡œì•„ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ â†’ WebP ë³€í™˜ â†’ Firebase Storage ì—…ë¡œë“œ
         + ë™ì‹œì— "ëŒ€í‘œìƒ‰" ì¶”ì¶œí•˜ì—¬ Firestoreì— hexê°’ ì €ì¥
Firestoreì— ì €ì¥: {
  imageUrl: "https://firebasestorage.googleapis.com/.../avatar_123.webp",  // ë³¸ ì´ë¯¸ì§€
  dominantColor: "#2A1F3D",  // ëŒ€í‘œìƒ‰ (ë¡œë”© ì¤‘ ë°°ê²½ìƒ‰ìœ¼ë¡œ ì‚¬ìš©)
  originalImageUrl: "https://img.lostark.co.kr/...",  // ì›ë³¸ URL (ê°±ì‹ ìš© ë°±ì—…)
}
ê°¤ëŸ¬ë¦¬ ì¹´ë“œ: ëŒ€í‘œìƒ‰ ë°°ê²½ ì¦‰ì‹œ í‘œì‹œ â†’ Firebase Storage ì´ë¯¸ì§€ ë¡œë”©
```

| ì¥ì  | ë‹¨ì  |
|------|------|
| ê°¤ëŸ¬ë¦¬ ì§„ì… ì¦‰ì‹œ ìƒ‰ìƒ ë°°ê²½ í‘œì‹œ (ì²´ê° ì¦‰ì‹œ ë¡œë”©) | ë“±ë¡ ì‹œ ì„œë²„ ì²˜ë¦¬ ì‹œê°„ ì¦ê°€ |
| Firebase CDNìœ¼ë¡œ ë¹ ë¥¸ ì´ë¯¸ì§€ ë¡œë”© | Firebase Storage ìš©ëŸ‰ ì‚¬ìš© |
| ì´ë¯¸ì§€ ë§Œë£Œ/ê¹¨ì§ ë¬¸ì œ ì—†ìŒ | êµ¬í˜„ ë³µì¡ë„ ê°€ì¥ ë†’ìŒ |
| "ì´ë¯¸ì§€ ê°±ì‹ " ë²„íŠ¼ìœ¼ë¡œ ìˆ˜ë™ ì—…ë°ì´íŠ¸ ê°€ëŠ¥ | |
| ê°¤ëŸ¬ë¦¬ ì¹´ë“œìš© ì¸ë„¤ì¼ ë³„ë„ ìƒì„± ê°€ëŠ¥ (ìš©ëŸ‰ ì ˆê°) | |

**ê²°ë¡ : ë°©ì•ˆ C (í•˜ì´ë¸Œë¦¬ë“œ) ê¶Œì¥**
- ê°¤ëŸ¬ë¦¬ íŠ¹ì„±ìƒ ì´ë¯¸ì§€ê°€ í•µì‹¬ì´ë¯€ë¡œ, ì´ë¯¸ì§€ ë¡œë”© í’ˆì§ˆì— íˆ¬ìí•  ê°€ì¹˜ê°€ ìˆìŒ
- Firebase Storage ë¬´ë£Œ 5GBë©´ WebP ê¸°ì¤€ ìˆ˜ì²œ ê°œ ê²Œì‹œë¬¼ ìˆ˜ìš© ê°€ëŠ¥
- ëŒ€í‘œìƒ‰ ë°°ê²½ì€ ë°ì´í„° 1ê°œ í•„ë“œ(6ë°”ì´íŠ¸)ë¡œ ì²´ê° ì†ë„ ê·¹ì  í–¥ìƒ

### 11-3. ê°¤ëŸ¬ë¦¬ ì´ë¯¸ì§€ ë¡œë”© ìµœì í™” ìƒì„¸

**ê°¤ëŸ¬ë¦¬ ì¹´ë“œ ì´ë¯¸ì§€ ë¡œë”© ì‹œí€€ìŠ¤**:
```
[1ë‹¨ê³„] ì¦‰ì‹œ (0ms)
  ì¹´ë“œ í”„ë ˆì„ ë Œë” + dominantColor ë°°ê²½ìƒ‰ í‘œì‹œ
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                      â”‚
  â”‚   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â”‚  â† dominantColor (#2A1F3D) ë°°ê²½
  â”‚   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â”‚
  â”‚   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  ì œëª©                 â”‚  â† Firestore ë°ì´í„° ì¦‰ì‹œ ë Œë”
  â”‚  ìºë¦­í„°ëª… Â· í´ë˜ìŠ¤     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[2ë‹¨ê³„] ~200ms í›„
  Firebase Storage ì´ë¯¸ì§€ ë¡œë”© ì™„ë£Œ â†’ fade-in
  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
  â”‚                      â”‚
  â”‚   [ìºë¦­í„° ì´ë¯¸ì§€]      â”‚  â† opacity 0â†’1 ì „í™˜ (ë¶€ë“œëŸ¬ìš´ ë“±ì¥)
  â”‚                      â”‚
  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
  â”‚  ì œëª©                 â”‚
  â”‚  ìºë¦­í„°ëª… Â· í´ë˜ìŠ¤     â”‚
  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì´ë¯¸ì§€ ì‚¬ì´ì¦ˆ ì „ëµ**:
- ë“±ë¡ ì‹œ 2ê°€ì§€ ë²„ì „ ìƒì„±:
  - **ì¸ë„¤ì¼** (300x400, WebP, ~30KB) â†’ ê°¤ëŸ¬ë¦¬ ì¹´ë“œìš©
  - **ì›ë³¸** (ì›ë³¸ í¬ê¸°, WebP, ~100KB) â†’ ìƒì„¸ í˜ì´ì§€ìš©
- ê°¤ëŸ¬ë¦¬ì—ì„œ 30KB ì¸ë„¤ì¼ 40ì¥ = ì´ ~1.2MB (í•©ë¦¬ì )
- ì›ë³¸ 600KB 40ì¥ = ì´ ~24MB (ë„ˆë¬´ ë¬´ê±°ì›€) â†’ ì¸ë„¤ì¼ í•„ìˆ˜

**Lazy Loading**:
- ì²« í™”ë©´ì— ë³´ì´ëŠ” ì¹´ë“œ (ìƒìœ„ 8~12ê°œ): `loading="eager"` (ì¦‰ì‹œ ë¡œë”©)
- ìŠ¤í¬ë¡¤í•´ì•¼ ë³´ì´ëŠ” ì¹´ë“œ: `loading="lazy"` (ë·°í¬íŠ¸ ì§„ì… ì‹œ ë¡œë”©)
- ë¬´í•œìŠ¤í¬ë¡¤ ì‹œ ë‹¤ìŒ ë°°ì¹˜ëŠ” Intersection Observerë¡œ íŠ¸ë¦¬ê±°

### 11-4. ì„œë²„ ì‚¬ì´ë“œ API ìºì‹± ë¹„êµ

ë“±ë¡ í˜ì´ì§€ì—ì„œ ìºë¦­í„° ê²€ìƒ‰ ì‹œ, ë¡œì•„ API ì‘ë‹µì„ ìºì‹±í•˜ëŠ” ë°©ì•ˆ:

#### ë°©ì•ˆ 1: Upstash Redis

```
ê²€ìƒ‰ â†’ API ë¼ìš°íŠ¸ â†’ Upstash Redis (HTTP) â†’ ìºì‹œ HIT/MISS â†’ ë¡œì•„ API
```

| í•­ëª© | ë‚´ìš© |
|------|------|
| ë¹„ìš© | ë¬´ë£Œ (ì¼ 10,000 ì»¤ë§¨ë“œ, 256MB) |
| ì†ë„ | ìºì‹œ HIT ~50ms (HTTP ê¸°ë°˜ì´ë¼ TCP Redisë³´ë‹¤ ëŠë¦¼) |
| Netlify í˜¸í™˜ | ì™„ë²½ (HTTP REST API, ì„œë²„ë¦¬ìŠ¤ ì¹œí™”) |
| ì„¤ì • | Upstash ê°€ì… â†’ DB ìƒì„± â†’ í™˜ê²½ë³€ìˆ˜ 2ê°œ |
| ì˜ì¡´ì„± | `@upstash/redis` íŒ¨í‚¤ì§€ ì¶”ê°€ |
| ì¥ì  | TTL ìë™ ê´€ë¦¬, ì—¬ëŸ¬ ì„œë²„ë¦¬ìŠ¤ ì¸ìŠ¤í„´ìŠ¤ ê°„ ìºì‹œ ê³µìœ  |
| ë‹¨ì  | ì™¸ë¶€ ì„œë¹„ìŠ¤ ì˜ì¡´ì„± ì¶”ê°€, ë„¤íŠ¸ì›Œí¬ í™‰ 1ê°œ ì¶”ê°€ |

#### ë°©ì•ˆ 2: Firestoreë¥¼ ìºì‹œë¡œ í™œìš©

```
ê²€ìƒ‰ â†’ API ë¼ìš°íŠ¸ â†’ Firestore `apiCache` ì»¬ë ‰ì…˜ ì¡°íšŒ â†’ ìºì‹œ HIT/MISS â†’ ë¡œì•„ API
```

| í•­ëª© | ë‚´ìš© |
|------|------|
| ë¹„ìš© | ë¬´ë£Œ (Firestore ì¼ 50,000 ì½ê¸°/20,000 ì“°ê¸°) |
| ì†ë„ | ~100~200ms (Upstashë³´ë‹¤ ì•½ê°„ ëŠë¦¼) |
| Netlify í˜¸í™˜ | ì™„ë²½ (ì´ë¯¸ ì‚¬ìš© ì¤‘) |
| ì„¤ì • | ì—†ìŒ (ì´ë¯¸ Firestore ì‚¬ìš© ì¤‘) |
| ì˜ì¡´ì„± | ì¶”ê°€ ì—†ìŒ |
| ì¥ì  | ìƒˆ ì„œë¹„ìŠ¤ ì•ˆ ë¶™ì—¬ë„ ë¨, ê´€ë¦¬ í¬ì¸íŠ¸ ì•ˆ ëŠ˜ì–´ë‚¨ |
| ë‹¨ì  | TTL ìˆ˜ë™ ê´€ë¦¬ í•„ìš” (createdAt ë¹„êµ í›„ ì˜¤ë˜ëœ ë¬¸ì„œ ë¬´ì‹œ), Firestore ì“°ê¸° ë¹„ìš© |

```typescript
// Firestore ìºì‹œ ì˜ˆì‹œ
async function getCachedAvatarData(characterName: string) {
  const cacheRef = doc(db, 'apiCache', `avatar_${characterName}`);
  const cacheDoc = await getDoc(cacheRef);

  if (cacheDoc.exists()) {
    const cached = cacheDoc.data();
    const age = Date.now() - cached.cachedAt.toMillis();
    if (age < 2 * 60 * 60 * 1000) { // 2ì‹œê°„ ì´ë‚´
      return cached.data;
    }
  }

  // ìºì‹œ ë¯¸ìŠ¤ ë˜ëŠ” ë§Œë£Œ
  const data = await fetchFromLostArkAPI(characterName);
  await setDoc(cacheRef, { data, cachedAt: serverTimestamp() });
  return data;
}
```

#### ë°©ì•ˆ 3: API ë¼ìš°íŠ¸ Cache-Control í—¤ë” (Netlify CDN ìºì‹œ)

```
ê²€ìƒ‰ â†’ Netlify CDN â†’ ìºì‹œ HIT? â†’ API ë¼ìš°íŠ¸ â†’ ë¡œì•„ API
```

| í•­ëª© | ë‚´ìš© |
|------|------|
| ë¹„ìš© | ë¬´ë£Œ (Netlify CDN ê¸°ë³¸ í¬í•¨) |
| ì†ë„ | CDN HIT ì‹œ ~10ms (ì—£ì§€ì—ì„œ ì‘ë‹µ, ê°€ì¥ ë¹ ë¦„) |
| ì„¤ì • | API ì‘ë‹µì— Cache-Control í—¤ë”ë§Œ ì¶”ê°€ |
| ì˜ì¡´ì„± | ì—†ìŒ |
| ì¥ì  | ê°€ì¥ ê°„ë‹¨, ê°€ì¥ ë¹ ë¦„, ì¶”ê°€ ë¹„ìš© ì—†ìŒ |
| ë‹¨ì  | GET ìš”ì²­ë§Œ ìºì‹± ê°€ëŠ¥, ìºì‹œ ë¬´íš¨í™”ê°€ ì–´ë ¤ì›€, Netlify ë™ì‘ì— ì˜ì¡´ |

```typescript
// API ë¼ìš°íŠ¸ì—ì„œ
return NextResponse.json(data, {
  headers: {
    'Cache-Control': 'public, s-maxage=7200, stale-while-revalidate=3600',
    // s-maxage=7200: CDNì´ 2ì‹œê°„ ìºì‹±
    // stale-while-revalidate=3600: ë§Œë£Œ í›„ 1ì‹œê°„ì€ ì˜¤ë˜ëœ ìºì‹œ ë°˜í™˜í•˜ë©´ì„œ ë°±ê·¸ë¼ìš´ë“œ ê°±ì‹ 
  },
});
```

#### ì„œë²„ ìºì‹± ê²°ë¡ 

**MVP ë‹¨ê³„: ë°©ì•ˆ 3 (Netlify CDN ìºì‹œ) ê¶Œì¥**
- ì½”ë“œ í•œ ì¤„ ì¶”ê°€ë¡œ êµ¬í˜„ ê°€ëŠ¥
- ì™¸ë¶€ ì„œë¹„ìŠ¤ ì˜ì¡´ì„± ì—†ìŒ
- ì•„ë°”íƒ€ ë“±ë¡ì€ ë¹ˆë²ˆí•œ ë™ì‘ì´ ì•„ë‹ˆë¯€ë¡œ CDN ìºì‹œë§Œìœ¼ë¡œ ì¶©ë¶„

**ì‚¬ìš©ì ì¦ê°€ ì‹œ: ë°©ì•ˆ 1 (Upstash Redis) ì „í™˜ ê³ ë ¤**
- CDN ìºì‹œê°€ ë¶ˆì•ˆì •í•˜ê±°ë‚˜, ê°™ì€ ìºë¦­í„° ê²€ìƒ‰ì´ ë§¤ìš° ë¹ˆë²ˆí•´ì§€ë©´
- Upstash ë¬´ë£Œ í‹°ì–´ë¡œ ì‹œì‘, í•„ìš” ì‹œ ìœ ë£Œ ì „í™˜

### 11-5. í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ìºì‹± ë¹„êµ

ê°¤ëŸ¬ë¦¬/ìƒì„¸ í˜ì´ì§€ì—ì„œ Firestore ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ìºì‹±í• ì§€:

#### ë°©ì•ˆ 1: SWR

| ì¥ì  | ë‹¨ì  |
|------|------|
| stale-while-revalidate íŒ¨í„´ (ìºì‹œ ì¦‰ì‹œ í‘œì‹œ + ë°±ê·¸ë¼ìš´ë“œ ê°±ì‹ ) | íŒ¨í‚¤ì§€ ì¶”ê°€ (~4KB) |
| ìš”ì²­ ì¤‘ë³µ ì œê±° | Firestore SDK ìœ„ì— í•œ ê²¹ ë” ë˜í•‘í•´ì•¼ í•¨ |
| ì—ëŸ¬/ë¡œë”© ìƒíƒœ ê´€ë¦¬ê°€ í¸í•¨ | ì•½ê°„ì˜ í•™ìŠµ ê³¡ì„  |

#### ë°©ì•ˆ 2: Firestore ì˜¤í”„ë¼ì¸ ìºì‹œ (enablePersistentCacheIndexAutoCreation)

```typescript
// Firestore SDK ìì²´ ë¡œì»¬ ìºì‹œ í™œì„±í™”
import { initializeFirestore, persistentLocalCache } from 'firebase/firestore';
const db = initializeFirestore(app, {
  localCache: persistentLocalCache()
});
```

| ì¥ì  | ë‹¨ì  |
|------|------|
| íŒ¨í‚¤ì§€ ì¶”ê°€ ì—†ìŒ (Firestore SDK ë‚´ì¥) | Firestore ì „ìš© (API ë¼ìš°íŠ¸ ì‘ë‹µì€ ìºì‹± ëª»í•¨) |
| IndexedDBì— ìë™ ì €ì¥, ì˜¤í”„ë¼ì¸ì—ì„œë„ ë™ì‘ | ì„¸ë°€í•œ ìºì‹œ ì œì–´ ì–´ë ¤ì›€ |
| ì¬ë°©ë¬¸ ì‹œ ë¡œì»¬ ìºì‹œì—ì„œ ì¦‰ì‹œ ì½ê¸° | ìºì‹œ ë¬´íš¨í™” ì „ëµì´ Firestoreì— ìœ„ì„ë¨ |
| ì´ë¯¸ ì‚¬ìš© ì¤‘ì¸ SDK ì„¤ì •ë§Œ ë³€ê²½ | |

#### ë°©ì•ˆ 3: React state + sessionStorage (ê°€ì¥ ë‹¨ìˆœ)

```typescript
// ê°¤ëŸ¬ë¦¬ ë°ì´í„°ë¥¼ sessionStorageì— ìºì‹±
const [posts, setPosts] = useState(() => {
  const cached = sessionStorage.getItem('avatarPosts');
  return cached ? JSON.parse(cached) : null;
});

useEffect(() => {
  fetchPosts().then(data => {
    setPosts(data);
    sessionStorage.setItem('avatarPosts', JSON.stringify(data));
  });
}, []);
```

| ì¥ì  | ë‹¨ì  |
|------|------|
| ì˜ì¡´ì„± 0, ê°€ì¥ ê°„ë‹¨ | ìˆ˜ë™ ê´€ë¦¬ í•„ìš” |
| íƒ­ ë‚´ ì„¸ì…˜ ë™ì•ˆ ìºì‹œ ìœ ì§€ | ë°±ê·¸ë¼ìš´ë“œ ê°±ì‹  ì§ì ‘ êµ¬í˜„í•´ì•¼ í•¨ |
| ì§ê´€ì  | ì—ëŸ¬ í•¸ë“¤ë§ ì§ì ‘ êµ¬í˜„ |

#### í´ë¼ì´ì–¸íŠ¸ ìºì‹± ê²°ë¡ 

**ê¶Œì¥: ë°©ì•ˆ 2 (Firestore ì˜¤í”„ë¼ì¸ ìºì‹œ)**
- ê°¤ëŸ¬ë¦¬/ìƒì„¸ í˜ì´ì§€ ë°ì´í„°ëŠ” ì „ë¶€ Firestoreì—ì„œ ì˜¤ë¯€ë¡œ, SDK ë‚´ì¥ ìºì‹œê°€ ê°€ì¥ ìì—°ìŠ¤ëŸ¬ì›€
- íŒ¨í‚¤ì§€ ì¶”ê°€ ì—†ì´ ì„¤ì • í•œ ì¤„ë¡œ ì¬ë°©ë¬¸ ì‹œ ì¦‰ì‹œ ë¡œë”© ë‹¬ì„±
- ë“±ë¡ í˜ì´ì§€ì˜ API ë¼ìš°íŠ¸ ì‘ë‹µì€ React stateë¡œ ì¶©ë¶„ (ê²€ìƒ‰ ê²°ê³¼ë¥¼ stateì— ë³´ê´€)

### 11-6. UI ë°˜ì‘ì„± ìµœì í™”

**ìŠ¤ì¼ˆë ˆí†¤ UI**: ìµœì´ˆ ë¡œë”© ì‹œì—ë§Œ í‘œì‹œ, Firestore ìºì‹œ ìˆìœ¼ë©´ ì¦‰ì‹œ ë Œë”ë§

**ì¢‹ì•„ìš” Optimistic Update**:
```
ì‚¬ìš©ì â¤ í´ë¦­ â†’ UI ì¦‰ì‹œ ë°˜ì˜ (ì¹´ìš´íŠ¸ +1) â†’ ë°±ê·¸ë¼ìš´ë“œì—ì„œ Firestore ì—…ë°ì´íŠ¸
                                           â”” ì‹¤íŒ¨ ì‹œ ë¡¤ë°±
```

**í˜ì´ì§€ë„¤ì´ì…˜**: í•œ ë²ˆì— 12~16ê°œë§Œ ë¡œë”©, ë¬´í•œìŠ¤í¬ë¡¤ ë˜ëŠ” "ë” ë³´ê¸°" ë²„íŠ¼

### 11-7. ì „ì²´ ë°ì´í„° íë¦„ ì •ë¦¬

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ì‚¬ìš©ì ë¸Œë¼ìš°ì €                              â”‚
â”‚                                                                 â”‚
â”‚  ê°¤ëŸ¬ë¦¬ í˜ì´ì§€ â”€â†’ Firestore (ë¡œì»¬ ìºì‹œ â†’ ì„œë²„) â”€â†’ ì¦‰ì‹œ ë Œë”       â”‚
â”‚  ìƒì„¸ í˜ì´ì§€  â”€â†’ Firestore (ë¡œì»¬ ìºì‹œ â†’ ì„œë²„) â”€â†’ ì¦‰ì‹œ ë Œë”       â”‚
â”‚                                                                 â”‚
â”‚  ì¹´ë“œ ì´ë¯¸ì§€ â”€â”€â†’ Firebase Storage (Google CDN) â”€â”€â†’ ë¹ ë¥¸ ë¡œë”©      â”‚
â”‚                  + dominantColor ë°°ê²½ ì¦‰ì‹œ í‘œì‹œ                    â”‚
â”‚                  + ì¸ë„¤ì¼(30KB) ì‚¬ìš©                               â”‚
â”‚                                                                 â”‚
â”‚  ë“±ë¡ ê²€ìƒ‰ â”€â”€â”€â†’ /api/lostark/avatars â”€â”€â†’ Netlify CDN ìºì‹œ        â”‚
â”‚                                          â”œâ”€ HIT: ì¦‰ì‹œ ë°˜í™˜       â”‚
â”‚                                          â””â”€ MISS: ë¡œì•„ API í˜¸ì¶œ  â”‚
â”‚                                                                 â”‚
â”‚  ë“±ë¡ í™•ì • â”€â”€â”€â†’ Firestore ì €ì¥                                    â”‚
â”‚              + ì„œë²„ì—ì„œ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ â†’ WebP ë³€í™˜                  â”‚
â”‚              + Firebase Storage ì—…ë¡œë“œ (ì¸ë„¤ì¼ + ì›ë³¸)              â”‚
â”‚              + ëŒ€í‘œìƒ‰ ì¶”ì¶œ â†’ Firestoreì— í•¨ê»˜ ì €ì¥                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 11-8. ì„±ëŠ¥ ëª©í‘œ

| ì§€í‘œ | ëª©í‘œ | ë°©ë²• |
|------|------|------|
| ê°¤ëŸ¬ë¦¬ ì²« ë¡œë”© (ì½œë“œ) | < 500ms (ë°ì´í„°) | Firestore ì§ì ‘ ì½ê¸° + ìŠ¤ì¼ˆë ˆí†¤ |
| ê°¤ëŸ¬ë¦¬ ì¬ë°©ë¬¸ | < 100ms (ë°ì´í„°) | Firestore ì˜¤í”„ë¼ì¸ ìºì‹œ |
| ê°¤ëŸ¬ë¦¬ ì´ë¯¸ì§€ ì²´ê° | ì¦‰ì‹œ | dominantColor ë°°ê²½ ì¦‰ì‹œ + ì¸ë„¤ì¼ lazy load |
| ìƒì„¸ í˜ì´ì§€ ë¡œë”© | < 300ms | Firestore ë‹¨ê±´ ì½ê¸° |
| ë“±ë¡ - ìºë¦­í„° ê²€ìƒ‰ (CDN HIT) | < 100ms | Netlify CDN ìºì‹œ |
| ë“±ë¡ - ìºë¦­í„° ê²€ìƒ‰ (CDN MISS) | < 2ì´ˆ | ë¡œì•„ API ì§ì ‘ í˜¸ì¶œ |
| ì¢‹ì•„ìš” ë°˜ì‘ | ì¦‰ì‹œ | Optimistic Update |

### 11-9. ì¶”ê°€ ì˜ì¡´ì„± ì •ë¦¬

| íŒ¨í‚¤ì§€ | ìš©ë„ | ë„ì… ì‹œì  |
|--------|------|----------|
| ì—†ìŒ (Firestore ì„¤ì • ë³€ê²½ë§Œ) | í´ë¼ì´ì–¸íŠ¸ ìºì‹± | Phase 1 |
| ì—†ìŒ (Cache-Control í—¤ë”ë§Œ) | API ìºì‹± | Phase 1 |
| `sharp` (ì„ íƒ) | ì„œë²„ì—ì„œ ì´ë¯¸ì§€ WebP ë³€í™˜/ë¦¬ì‚¬ì´ì¦ˆ | Phase 1 (ì´ë¯¸ì§€ ì²˜ë¦¬ ì‹œ) |
| `@upstash/redis` (ì„ íƒ) | ì„œë²„ API ìºì‹± ê°•í™” | ì‚¬ìš©ì ì¦ê°€ ì‹œ |

---

## 12. ë³´ì•ˆ & ê¶Œí•œ

| ë™ì‘ | ë¹„ë¡œê·¸ì¸ | ë¡œê·¸ì¸ (íƒ€ì¸) | ë¡œê·¸ì¸ (ë³¸ì¸) |
|------|---------|-------------|-------------|
| ê°¤ëŸ¬ë¦¬ ì—´ëŒ | O | O | O |
| ìƒì„¸ ë³´ê¸° | O | O | O |
| ì—¼ìƒ‰ í¸ì§‘ ì²´í—˜ | X | O | O |
| ê²Œì‹œë¬¼ ë“±ë¡ | X | O | O |
| ì¢‹ì•„ìš” | X | O | O |
| ê²Œì‹œë¬¼ ìˆ˜ì • | X | X | O |
| ê²Œì‹œë¬¼ ì‚­ì œ | X | X | O |
| ì—¼ìƒ‰ ìˆ˜ì • ì €ì¥ | X | X | O |

### Firestore ë³´ì•ˆ ê·œì¹™

```javascript
match /avatarPosts/{postId} {
  // ëˆ„êµ¬ë‚˜ ì½ê¸° ê°€ëŠ¥
  allow read: if true;
  // ë¡œê·¸ì¸í•œ ì‚¬ìš©ìë§Œ ìƒì„± ê°€ëŠ¥, authorUidê°€ ë³¸ì¸ì´ì–´ì•¼ í•¨
  allow create: if request.auth != null
                && request.resource.data.authorUid == request.auth.uid;
  // ë³¸ì¸ë§Œ ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥
  allow update, delete: if request.auth != null
                        && resource.data.authorUid == request.auth.uid;
}
```

---

## 13. êµ¬í˜„ ìš°ì„ ìˆœìœ„ & ë‹¨ê³„

### Phase 1: í•µì‹¬ ê¸°ëŠ¥ (MVP)
1. íƒ€ì… ì •ì˜ (`types/avatar.ts`) - dominantColor, thumbnailUrl í•„ë“œ í¬í•¨
2. Firestore ì˜¤í”„ë¼ì¸ ìºì‹œ í™œì„±í™” (`persistentLocalCache`)
3. API ë¼ìš°íŠ¸ (`/api/lostark/avatars`) + Tooltip íŒŒì‹± + **Cache-Control í—¤ë”**
4. ì´ë¯¸ì§€ ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸ (ë‹¤ìš´ë¡œë“œ â†’ WebP ë³€í™˜ â†’ Firebase Storage ì—…ë¡œë“œ â†’ ëŒ€í‘œìƒ‰ ì¶”ì¶œ)
5. Firestore CRUD (`lib/avatar-service.ts`)
6. ê°¤ëŸ¬ë¦¬ ë©”ì¸ í˜ì´ì§€ (`/avatar`) + **ìŠ¤ì¼ˆë ˆí†¤ UI + ì¸ë„¤ì¼ + dominantColor ë°°ê²½**
7. ë“±ë¡ í˜ì´ì§€ (`/avatar/register`)
8. ìƒì„¸ í˜ì´ì§€ (`/avatar/[postId]`) - ì—¼ìƒ‰ ì •ë³´ í‘œì‹œ (ì½ê¸° ëª¨ë“œ)
9. ë ˆì´ì•„ì›ƒ + CSS + ë„¤ë¹„ë°” ì—…ë°ì´íŠ¸

### Phase 2: í¸ì§‘ ê¸°ëŠ¥
8. ì—¼ìƒ‰ í¸ì§‘ê¸° (`DyeEditor` ì»´í¬ë„ŒíŠ¸)
9. ì»¬ëŸ¬í”¼ì»¤ + ìŠ¬ë¼ì´ë” UI
10. ìƒ‰ìƒ ë¯¸ë¦¬ë³´ê¸° ë°•ìŠ¤
11. HEX ì½”ë“œ ë³µì‚¬ ê¸°ëŠ¥
12. ê²Œì‹œë¬¼ ìˆ˜ì • í˜ì´ì§€

### Phase 3: ì†Œì…œ ê¸°ëŠ¥
13. ì¢‹ì•„ìš” ê¸°ëŠ¥
14. ì¡°íšŒìˆ˜ ì¹´ìš´íŠ¸
15. ì •ë ¬/í•„í„° (í´ë˜ìŠ¤ë³„, ì¸ê¸°ìˆœ)
16. í˜ì´ì§€ë„¤ì´ì…˜ (ë¬´í•œìŠ¤í¬ë¡¤ ë˜ëŠ” í˜ì´ì§€)

### Phase 4: ê³ ë„í™”
18. ê²€ìƒ‰ ê¸°ëŠ¥
19. ë°˜ì‘í˜• ìµœì í™”
20. SEO (ë©”íƒ€ë°ì´í„°, JSON-LD)
21. ì¶”ê°€ ì„±ëŠ¥ íŠœë‹ (Redis TTL ì¡°ì •, Firestore ì¸ë±ìŠ¤ ìµœì í™” ë“±)

---

## 14. UI ë””ìì¸ & ìŠ¤íƒ€ì¼ ê°€ì´ë“œ

> ì•„ë°”íƒ€ ê°¤ëŸ¬ë¦¬ëŠ” ê¸°ì¡´ ì‚¬ì´íŠ¸ì˜ ë””ìì¸ ì‹œìŠ¤í…œì„ ê·¸ëŒ€ë¡œ ë”°ë¥¸ë‹¤.
> ìƒˆë¡œìš´ ë””ìì¸ ì–¸ì–´ë¥¼ ë§Œë“¤ì§€ ì•Šê³ , ê¸°ì¡´ CSS ë³€ìˆ˜/íŒ¨í„´/ì»´í¬ë„ŒíŠ¸ë¥¼ ì¼ê´€ë˜ê²Œ ì‚¬ìš©í•œë‹¤.

### 14-1. ì•„ë°”íƒ€ í˜ì´ì§€ í…Œë§ˆ ìƒ‰ìƒ

ê¸°ì¡´ ë„¤ë¹„ ìƒ‰ìƒ ì²´ê³„ì— ì•„ë°”íƒ€ìš© í•‘í¬ ê³„ì—´ ì¶”ê°€:

```
ê¸°ì¡´ ìƒ‰ìƒ ë§µ:
  nav-weekly   â†’ #ea580c (ì˜¤ë Œì§€)
  nav-refining â†’ #6366f1 (ì¸ë””ê³ )
  nav-life     â†’ #22c55e (ê·¸ë¦°)
  nav-hell     â†’ #ef4444 (ë ˆë“œ)
  nav-guide    â†’ #0ea5e9 (í•˜ëŠ˜)
  nav-mypage   â†’ #a855f7 (í¼í”Œ)

ì¶”ê°€:
  nav-avatar   â†’ #ec4899 (í•‘í¬)
```

**globals.cssì— ì¶”ê°€í•  ë„¤ë¹„ ìƒ‰ìƒ**:
```css
/* ì•„ë°”íƒ€ (í•‘í¬) */
.nav-avatar {
  color: var(--text-primary);
}
.nav-avatar:hover {
  color: #ec4899;
  border-color: #ec4899;
  background-color: rgba(236, 72, 153, 0.08);
}
.nav-avatar.active {
  color: #fff;
  background-color: #ec4899;
  border-color: #ec4899;
  box-shadow: 0 3px 10px rgba(236, 72, 153, 0.35);
}

/* ë‹¤í¬ëª¨ë“œ */
[data-theme="dark"] .nav-avatar:hover {
  background-color: rgba(60, 60, 65, 0.9);
}

/* ëª¨ë°”ì¼ Offcanvas */
.navbar-offcanvas-link.nav-avatar:hover {
  color: #ec4899;
  background: rgba(236, 72, 153, 0.06);
  border-left: 3px solid #ec4899;
}
```

**í˜ì´ì§€ ë‚´ ì•¡ì„¼íŠ¸ ìƒ‰ìƒ í™œìš©**:
```css
/* avatar.module.cssì—ì„œ */
.pageWrapper {
  /* í•‘í¬ í…Œë§ˆ ë³€ìˆ˜ ì˜¤ë²„ë¼ì´ë“œ */
  --avatar-primary: #ec4899;
  --avatar-primary-light: rgba(236, 72, 153, 0.08);
  --avatar-primary-dark: #db2777;
}
```

### 14-2. CSS Module íŒŒì¼ êµ¬ì¡°

ê¸°ì¡´ íŒ¨í„´ì„ ë”°ë¦„ (ê° í˜ì´ì§€ë³„ .module.css):

```
app/avatar/
â”œâ”€â”€ avatar.module.css               # ê°¤ëŸ¬ë¦¬ ë©”ì¸ ìŠ¤íƒ€ì¼
â”œâ”€â”€ register/
â”‚   â””â”€â”€ register.module.css         # ë“±ë¡ í˜ì´ì§€ ìŠ¤íƒ€ì¼ (ë˜ëŠ” avatar.module.css ê³µìœ )
â”œâ”€â”€ [postId]/
â”‚   â””â”€â”€ detail.module.css           # ìƒì„¸ í˜ì´ì§€ ìŠ¤íƒ€ì¼
â””â”€â”€ edit/
    â””â”€â”€ [postId]/
        â””â”€â”€ edit.module.css         # ìˆ˜ì • í˜ì´ì§€ ìŠ¤íƒ€ì¼

components/avatar/
â”œâ”€â”€ AvatarGalleryCard.module.css    # ê°¤ëŸ¬ë¦¬ ì¹´ë“œ
â”œâ”€â”€ AvatarItemList.module.css       # ì•„ë°”íƒ€ ë¶€ìœ„ ëª©ë¡
â”œâ”€â”€ DyeInfoDisplay.module.css       # ì—¼ìƒ‰ ì •ë³´ í‘œì‹œ
â”œâ”€â”€ DyeEditor.module.css            # ì—¼ìƒ‰ í¸ì§‘ê¸°
â””â”€â”€ ColorPreviewBox.module.css      # ìƒ‰ìƒ ë¯¸ë¦¬ë³´ê¸°
```

### 14-3. ê¸°ì¡´ ë””ìì¸ íŒ¨í„´ ì¤€ìˆ˜ ì‚¬í•­

**ì¹´ë“œ ìŠ¤íƒ€ì¼** (ëª¨ë“  ì¹´ë“œì— ì ìš©):
```css
/* ê¸°ì¡´ ì‚¬ì´íŠ¸ ì¹´ë“œ ê³µí†µ íŒ¨í„´ */
.card {
  background: var(--card-bg);               /* rgba(255,255,255,0.95) / ë‹¤í¬: rgba(30,30,35,0.8) */
  backdrop-filter: blur(10px);              /* ê¸€ë˜ìŠ¤ëª¨í”¼ì¦˜ */
  border: 1px solid var(--border-color);    /* rgba(160,60,30,0.15) */
  border-radius: 12px;                      /* ê¸°ë³¸ ë¼ìš´ë”© */
  box-shadow: var(--shadow-md);             /* ë¼ì´íŠ¸: ì•½í•œ ê·¸ë¦¼ì / ë‹¤í¬: ê°•í•œ ê·¸ë¦¼ì */
  transition: all 0.2s ease;
}
.card:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}
```

**í…ìŠ¤íŠ¸ ìƒ‰ìƒ** (CSS ë³€ìˆ˜ ì‚¬ìš© í•„ìˆ˜):
```css
/* âŒ í•˜ë“œì½”ë”© ê¸ˆì§€ */
color: #333;

/* âœ… CSS ë³€ìˆ˜ ì‚¬ìš© */
color: var(--text-primary);     /* ì œëª©, ì¤‘ìš” í…ìŠ¤íŠ¸ */
color: var(--text-secondary);   /* ë³¸ë¬¸ */
color: var(--text-muted);       /* ë¶€ê°€ ì •ë³´, ë‚ ì§œ, ìº¡ì…˜ */
```

**ë°°ê²½ ìƒ‰ìƒ**:
```css
background: var(--card-bg);                 /* ì¹´ë“œ ë°°ê²½ */
background: var(--card-header-bg-orange);   /* ì¹´ë“œ í—¤ë” */
background: var(--card-body-bg-stone);      /* ì¹´ë“œ ë°”ë”” (ì„ íƒì ) */
```

**ê·¸ë¦¼ì**:
```css
box-shadow: var(--shadow-sm);   /* ì‘ì€ ìš”ì†Œ */
box-shadow: var(--shadow-md);   /* ì¹´ë“œ ê¸°ë³¸ */
box-shadow: var(--shadow-lg);   /* ì¹´ë“œ í˜¸ë²„, ëª¨ë‹¬ */
```

**í˜¸ë²„ íš¨ê³¼** (ê¸°ì¡´ íŒ¨í„´ ì¼ê´€):
```css
transition: all 0.2s ease;       /* ë˜ëŠ” 0.3s */
transform: translateY(-2px);     /* ì¹´ë“œ í˜¸ë²„ */
transform: translateY(-3px);     /* ê°•ì¡° ì¹´ë“œ í˜¸ë²„ (ê°€ì´ë“œ ì¹´ë“œ ì°¸ê³ ) */
```

**ë°˜ì‘í˜• ë¸Œë ˆì´í¬í¬ì¸íŠ¸** (ê¸°ì¡´ ì‚¬ì´íŠ¸ ê¸°ì¤€):
```css
/* ëª¨ë°”ì¼ */
@media (max-width: 576px) { ... }

/* íƒœë¸”ë¦¿ */
@media (max-width: 768px) { ... }

/* clamp() í™œìš© (ê¸°ì¡´ íŒ¨í„´) */
font-size: clamp(0.9rem, 2vw, 1rem);
padding: clamp(0.75rem, 2vw, 1rem);
```

**ë‹¤í¬ëª¨ë“œ ëŒ€ì‘** (í•„ìˆ˜):
```css
/* ë¼ì´íŠ¸ ê¸°ë³¸ â†’ [data-theme="dark"]ë¡œ ì˜¤ë²„ë¼ì´ë“œ */
.galleryCard {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
}

/* ë‹¤í¬ëª¨ë“œì—ì„œ ì¶”ê°€ ì¡°ì •ì´ í•„ìš”í•œ ê²½ìš°ë§Œ */
:global([data-theme="dark"]) .galleryCard {
  /* ë‹¤í¬ ì „ìš© ìŠ¤íƒ€ì¼ */
}
```

### 14-4. ê°¤ëŸ¬ë¦¬ ì¹´ë“œ ë””ìì¸ ìƒì„¸

ê¸°ì¡´ ê°€ì´ë“œ ì¹´ë“œ(`guideCard`)ì™€ ë ˆì´ë“œ ì¹´ë“œ(`raidCard`) íŒ¨í„´ì„ í˜¼í•©:

```css
/* AvatarGalleryCard.module.css */

.galleryGrid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 1.25rem;                          /* ê°€ì´ë“œ ì¹´ë“œì™€ ë™ì¼ ê°„ê²© */
}

@media (max-width: 576px) {
  .galleryGrid {
    grid-template-columns: repeat(2, 1fr);  /* ëª¨ë°”ì¼: 2ì—´ ê³ ì • */
    gap: 0.75rem;
  }
}

.galleryCard {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 12px;                    /* ê¸°ì¡´ ì¹´ë“œ ë¼ìš´ë”© */
  overflow: hidden;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: var(--shadow-md);
}

.galleryCard:hover {
  transform: translateY(-3px);            /* ê°€ì´ë“œ ì¹´ë“œì™€ ë™ì¼ */
  box-shadow: var(--shadow-lg);
}

/* ì´ë¯¸ì§€ ì˜ì—­ */
.cardImageWrapper {
  position: relative;
  aspect-ratio: 3 / 4;                   /* ìºë¦­í„° ì´ë¯¸ì§€ ë¹„ìœ¨ ê³ ì • */
  overflow: hidden;
}

.cardImagePlaceholder {
  width: 100%;
  height: 100%;
  /* dominantColorê°€ ë°°ê²½ìœ¼ë¡œ ì¦‰ì‹œ í‘œì‹œë¨ */
}

.cardImage {
  width: 100%;
  height: 100%;
  object-fit: cover;
  opacity: 0;
  transition: opacity 0.3s ease;         /* fade-in íš¨ê³¼ */
}

.cardImageLoaded {
  opacity: 1;
}

/* ë“±ê¸‰ ë±ƒì§€ (ì´ë¯¸ì§€ ìœ„ ì˜¤ë²„ë ˆì´) */
.gradeBadge {
  position: absolute;
  top: 8px;
  right: 8px;
  padding: 2px 8px;
  border-radius: 6px;
  font-size: 0.7rem;
  font-weight: 700;
  color: #fff;
  backdrop-filter: blur(4px);
}

.gradeLegendary { background: rgba(234, 88, 12, 0.85); }   /* ì „ì„¤: ì˜¤ë Œì§€ */
.gradeHeroic    { background: rgba(168, 85, 247, 0.85); }   /* ì˜ì›…: ë³´ë¼ */
.gradeRare      { background: rgba(59, 130, 246, 0.85); }   /* í¬ê·€: íŒŒë‘ */

/* ì¹´ë“œ ì •ë³´ ì˜ì—­ */
.cardInfo {
  padding: 0.75rem;
}

.cardTitle {
  font-size: clamp(0.8rem, 2vw, 0.95rem);
  font-weight: 700;
  color: var(--text-primary);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;               /* ê¸´ ì œëª© ë§ì¤„ì„ */
}

.cardMeta {
  font-size: 0.75rem;
  color: var(--text-muted);
  margin-top: 4px;
}

.cardStats {
  display: flex;
  gap: 0.75rem;
  font-size: 0.7rem;
  color: var(--text-muted);
  margin-top: 6px;
}

.likeCount {
  color: #ec4899;                        /* í•‘í¬ (ì•„ë°”íƒ€ í…Œë§ˆìƒ‰) */
}
```

### 14-5. ìƒì„¸ í˜ì´ì§€ ë””ìì¸

ê¸°ì¡´ ì¬ë ¨ ê³„ì‚°ì˜ `characterInfo` + `equipmentCard` íŒ¨í„´ ì°¸ê³ :

```css
/* detail.module.css */

/* ìºë¦­í„° ì •ë³´ í—¤ë” (ì¬ë ¨ ê³„ì‚° characterInfo íŒ¨í„´) */
.characterHeader {
  position: relative;
  padding: 1.5rem;
  background: linear-gradient(135deg, rgba(236, 72, 153, 0.08) 0%, rgba(168, 85, 247, 0.08) 100%);
  border-radius: 20px;
  border: 2px solid var(--border-color);
  backdrop-filter: blur(10px);
  margin-bottom: 1.5rem;
}

/* ìƒë‹¨ ê·¸ë¼ë””ì–¸íŠ¸ ë°” (ì¬ë ¨ ê³„ì‚° íŒ¨í„´) */
.characterHeader::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 4px;
  background: linear-gradient(90deg, #ec4899, #a855f7, #6366f1);
  border-radius: 20px 20px 0 0;
}

/* ìºë¦­í„°ëª… ê·¸ë¼ë””ì–¸íŠ¸ í…ìŠ¤íŠ¸ (ì¬ë ¨ ê³„ì‚° íŒ¨í„´) */
.characterName {
  font-size: clamp(1.3rem, 3vw, 1.7rem);
  font-weight: 800;
  background: linear-gradient(135deg, #ec4899, #a855f7);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}

/* ì•„ë°”íƒ€ ë¶€ìœ„ ì¹´ë“œ (ì¬ë ¨ ê³„ì‚° equipmentCard íŒ¨í„´) */
.avatarPartCard {
  padding: clamp(0.9rem, 2.3vw, 1.2rem);
  background: var(--card-bg);
  border-radius: 16px;
  box-shadow: var(--shadow-md);
  transition: all 0.2s ease;
}

.avatarPartCard:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-lg);
}

/* ì—¼ìƒ‰ ìƒ‰ìƒ í‘œì‹œ ë°•ìŠ¤ */
.colorSwatch {
  width: 28px;
  height: 28px;
  border-radius: 6px;
  border: 2px solid var(--border-color);
  display: inline-block;
}
```

### 14-6. ë“±ë¡ í˜ì´ì§€ ë””ìì¸

ê¸°ì¡´ ë§ˆì´í˜ì´ì§€ `registerBtn` + í¼ ìŠ¤íƒ€ì¼ ì°¸ê³ :

```css
/* register.module.css */

/* ê²€ìƒ‰ í¼ */
.searchForm {
  display: flex;
  gap: 0.5rem;
  max-width: 500px;
  margin: 0 auto;
}

.searchInput {
  background: var(--input-bg);
  border: 1px solid var(--border-color);
  border-radius: 8px;
  color: var(--text-primary);
  padding: 0.6rem 1rem;
  font-size: 0.95rem;
  transition: border-color 0.2s;
}

.searchInput:focus {
  border-color: #ec4899;
  box-shadow: 0 0 0 3px rgba(236, 72, 153, 0.15);
}

.searchButton {
  background: #ec4899;
  color: #fff;
  border: none;
  border-radius: 8px;
  padding: 0.6rem 1.2rem;
  font-weight: 600;
  transition: all 0.2s;
}

.searchButton:hover {
  background: #db2777;
  transform: translateY(-1px);
}

/* ë¯¸ë¦¬ë³´ê¸° ì¹´ë“œ */
.previewCard {
  background: var(--card-bg);
  border: 2px solid var(--border-color);
  border-radius: 16px;
  box-shadow: var(--shadow-lg);
  margin-top: 1.5rem;
  animation: slideIn 0.3s ease-out;      /* ê¸°ì¡´ CerkaRewardInfoì™€ ë™ì¼ */
}

@keyframes slideIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ë“±ë¡ ë²„íŠ¼ (ë§ˆì´í˜ì´ì§€ saveButton íŒ¨í„´) */
.registerButton {
  color: #fff;
  background: #ec4899;
  border: 2px solid #ec4899;
  border-radius: 10px;
  padding: 0.6rem 2rem;
  font-weight: 700;
  box-shadow: 0 2px 8px rgba(236, 72, 153, 0.3);
}

.registerButton:hover {
  background: #db2777;
  border-color: #db2777;
  transform: translateY(-1px);
}
```

### 14-7. ìŠ¤ì¼ˆë ˆí†¤ UI ìŠ¤íƒ€ì¼

```css
/* ê°¤ëŸ¬ë¦¬ ì¹´ë“œ ìŠ¤ì¼ˆë ˆí†¤ */
.skeletonCard {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: 12px;
  overflow: hidden;
}

.skeletonPulse {
  background: linear-gradient(
    90deg,
    var(--card-header-bg-orange) 25%,
    var(--card-body-bg-stone) 50%,
    var(--card-header-bg-orange) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
}

@keyframes shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* ë‹¤í¬ëª¨ë“œ ìŠ¤ì¼ˆë ˆí†¤ */
:global([data-theme="dark"]) .skeletonPulse {
  background: linear-gradient(
    90deg,
    rgba(255, 255, 255, 0.05) 25%,
    rgba(255, 255, 255, 0.1) 50%,
    rgba(255, 255, 255, 0.05) 75%
  );
  background-size: 200% 100%;
}
```

### 14-8. ì—¼ìƒ‰ í¸ì§‘ê¸° UI ìŠ¤íƒ€ì¼

```css
/* DyeEditor.module.css */

.dyePartSection {
  padding: 1rem;
  background: var(--card-body-bg-stone);
  border-radius: 12px;
  border: 1px solid var(--border-color);
  margin-bottom: 0.75rem;
}

.dyePartTitle {
  font-size: 0.85rem;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 0.5rem;
  padding-left: 0.5rem;
  border-left: 3px solid #ec4899;          /* ì•„ë°”íƒ€ í…Œë§ˆìƒ‰ ì•¡ì„¼íŠ¸ */
}

/* ì»¬ëŸ¬í”¼ì»¤ í–‰ */
.colorRow {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  margin-bottom: 0.5rem;
}

.colorLabel {
  font-size: 0.8rem;
  color: var(--text-secondary);
  min-width: 60px;
}

.colorInput {
  width: 36px;
  height: 36px;
  border: 2px solid var(--border-color);
  border-radius: 8px;
  cursor: pointer;
  padding: 2px;
}

.hexInput {
  width: 90px;
  font-size: 0.8rem;
  font-family: monospace;
  background: var(--input-bg);
  border: 1px solid var(--border-color);
  border-radius: 6px;
  padding: 4px 8px;
  color: var(--text-primary);
}

/* ìŠ¬ë¼ì´ë” (ê´‘íƒ, HSV) */
.slider {
  -webkit-appearance: none;
  width: 100%;
  height: 6px;
  border-radius: 3px;
  background: var(--border-color);
  outline: none;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: #ec4899;
  cursor: pointer;
  box-shadow: 0 2px 6px rgba(236, 72, 153, 0.3);
}

/* ìƒ‰ìƒ ë¯¸ë¦¬ë³´ê¸° ë°•ìŠ¤ */
.colorPreview {
  width: 100%;
  height: 48px;
  border-radius: 8px;
  border: 1px solid var(--border-color);
  position: relative;
  overflow: hidden;
}

/* ê´‘íƒ íš¨ê³¼ ì˜¤ë²„ë ˆì´ */
.glossOverlay {
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 50%;
  background: linear-gradient(
    to bottom,
    rgba(255, 255, 255, var(--gloss-opacity)),
    transparent
  );
}
```

### 14-9. Navbar ì—…ë°ì´íŠ¸

```typescript
// Navbar.tsx NAV_ITEMSì— ì¶”ê°€
const NAV_ITEMS = [
  { href: '/weekly-gold', label: 'ì£¼ê°„ ê³„ì‚°' },
  { href: '/refining', label: 'ì¬ë ¨ ê³„ì‚°' },
  { href: '/life-master', label: 'ìƒí™œ ê³„ì‚°' },
  { href: '/hell-sim', label: 'ì§€ì˜¥ ì‹œë®¬' },
  { href: '/avatar', label: 'ì•„ë°”íƒ€' },           // ì¶”ê°€
  { href: '/guide', label: 'ê°€ì´ë“œ' },
  { href: '/mypage', label: 'ë§ˆì´í˜ì´ì§€' },
];

// getNavClassName() í•¨ìˆ˜ì— ë§¤í•‘ ì¶”ê°€
case '/avatar': return 'nav-avatar';
```

### 14-10. Footer ì—…ë°ì´íŠ¸

```typescript
// Footer.tsx ë„êµ¬ ë§í¬ì— ì¶”ê°€
<a href="/avatar">ì•„ë°”íƒ€ ê°¤ëŸ¬ë¦¬</a>
<span className="footer-divider">|</span>
```

### 14-11. sitemap.xml ì—…ë°ì´íŠ¸

```xml
<url>
  <loc>https://lostarkweeklygold.kr/avatar</loc>
  <changefreq>daily</changefreq>
  <priority>0.8</priority>
</url>
```

### 14-12. Bootstrap ì»´í¬ë„ŒíŠ¸ í™œìš© ê³„íš

ê¸°ì¡´ íŒ¨í„´ì„ ë”°ë¼ React Bootstrap í™œìš©:

| ì»´í¬ë„ŒíŠ¸ | ì‚¬ìš© ìœ„ì¹˜ | ìš©ë„ |
|----------|----------|------|
| `Container` | ê°¤ëŸ¬ë¦¬, ë“±ë¡, ìƒì„¸ | ìµœëŒ€ ë„ˆë¹„ 1400px ì»¨í…Œì´ë„ˆ |
| `Row` / `Col` | ìƒì„¸ í˜ì´ì§€ ë ˆì´ì•„ì›ƒ | ì¢Œì¸¡ ì´ë¯¸ì§€ + ìš°ì¸¡ ì •ë³´ ë¶„í•  |
| `Card` | ìƒì„¸ í˜ì´ì§€ | ì•„ë°”íƒ€ ë¶€ìœ„ë³„ ì¹´ë“œ ë˜í•‘ |
| `Form` / `Form.Control` | ë“±ë¡ í˜ì´ì§€ | ì œëª©, ì„¤ëª… ì…ë ¥ |
| `Button` | ì „ì²´ | ê²€ìƒ‰, ë“±ë¡, ì¢‹ì•„ìš”, ìˆ˜ì •/ì‚­ì œ |
| `Badge` | ê°¤ëŸ¬ë¦¬ ì¹´ë“œ, ìƒì„¸ | ë“±ê¸‰ í‘œì‹œ (ì „ì„¤/ì˜ì›…/í¬ê·€) |
| `Spinner` | ë¡œë”© ìƒíƒœ | API í˜¸ì¶œ ëŒ€ê¸° |
| `Accordion` | ìƒì„¸ í˜ì´ì§€ | ì•ˆìª½ ì•„ë°”íƒ€(ë§ì…ê¸°) ì ‘ê¸°/í¼ì¹˜ê¸° |

**ì£¼ì˜**: ê°¤ëŸ¬ë¦¬ ê·¸ë¦¬ë“œëŠ” Bootstrap Grid ëŒ€ì‹  **CSS Grid** ì‚¬ìš©
(ê¸°ì¡´ `guideGrid` íŒ¨í„´: `grid-template-columns: repeat(auto-fill, minmax())`)

### 14-13. ëª¨ë°”ì¼ UI ì„¤ê³„

> ê¸°ì¡´ ì‚¬ì´íŠ¸ëŠ” 768px / 576px / 480px / 400px ë‹¨ê³„ì  ì¶•ì†Œ ì „ëµì„ ì‚¬ìš©í•œë‹¤.
> ì•„ë°”íƒ€ ê°¤ëŸ¬ë¦¬ë„ ë™ì¼í•œ ë¸Œë ˆì´í¬í¬ì¸íŠ¸ì™€ clamp() íŒ¨í„´ì„ ë”°ë¥¸ë‹¤.

#### ê°¤ëŸ¬ë¦¬ ë©”ì¸ - ë°˜ì‘í˜• ê·¸ë¦¬ë“œ

```css
/* ê¸°ë³¸: 4ì—´ (PC) */
.galleryGrid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
  gap: 1.25rem;
}

/* íƒœë¸”ë¦¿: 3ì—´ */
@media (max-width: 768px) {
  .galleryGrid {
    grid-template-columns: repeat(3, 1fr);
    gap: 0.75rem;
  }
}

/* ëª¨ë°”ì¼: 2ì—´ */
@media (max-width: 576px) {
  .galleryGrid {
    grid-template-columns: repeat(2, 1fr);
    gap: 0.5rem;
  }

  /* ì¹´ë“œ ì •ë³´ ì¶•ì†Œ */
  .cardTitle {
    font-size: 0.75rem;
  }
  .cardMeta {
    font-size: 0.65rem;
  }
  .cardStats {
    font-size: 0.6rem;
    gap: 0.5rem;
  }

  /* ì¹´ë“œ ë¼ìš´ë”© ì¶•ì†Œ (ê¸°ì¡´ íŒ¨í„´: 12px â†’ 8px) */
  .galleryCard {
    border-radius: 8px;
  }

  /* ë“±ê¸‰ ë±ƒì§€ ì¶•ì†Œ */
  .gradeBadge {
    font-size: 0.6rem;
    padding: 1px 6px;
    top: 4px;
    right: 4px;
  }
}

/* ì´ˆì†Œí˜• ëª¨ë°”ì¼: ì—¬ì „íˆ 2ì—´ì´ì§€ë§Œ ë” íƒ€ì´íŠ¸ */
@media (max-width: 400px) {
  .galleryGrid {
    gap: 0.4rem;
  }
  .cardInfo {
    padding: 0.5rem;
  }
  .cardTitle {
    font-size: 0.7rem;
  }
}
```

**ê°¤ëŸ¬ë¦¬ ì¹´ë“œ í¬ê¸° ë¹„êµ**:
```
PC (1200px+)     : ì¹´ë“œ ì•½ 260px Ã— 390px (4ì—´)
íƒœë¸”ë¦¿ (768px)   : ì¹´ë“œ ì•½ 230px Ã— 345px (3ì—´)
ëª¨ë°”ì¼ (576px)   : ì¹´ë“œ ì•½ 170px Ã— 255px (2ì—´)
ì´ˆì†Œí˜• (400px)   : ì¹´ë“œ ì•½ 185px Ã— 278px (2ì—´, ê°„ê²© ì¶•ì†Œ)
```

#### ê°¤ëŸ¬ë¦¬ ë©”ì¸ - ëª¨ë°”ì¼ ìƒë‹¨ ì»¨íŠ¸ë¡¤

```
PC:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì•„ë°”íƒ€ ê°¤ëŸ¬ë¦¬          [ìµœì‹ ìˆœ â–¼] [ì „ì²´ í´ë˜ìŠ¤ â–¼]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ëª¨ë°”ì¼ (576px ì´í•˜):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì•„ë°”íƒ€ ê°¤ëŸ¬ë¦¬              â”‚
â”‚  [ìµœì‹ ìˆœ â–¼] [ì „ì²´ í´ë˜ìŠ¤ â–¼] â”‚  â† ì•„ë˜ë¡œ ì´ë™, ì „ì²´ ë„ˆë¹„
â”‚  [+ ë“±ë¡í•˜ê¸°]              â”‚  â† ì „ì²´ ë„ˆë¹„ ë²„íŠ¼
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```css
/* ì •ë ¬/í•„í„° ì»¨íŠ¸ë¡¤ */
.controls {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 0.75rem;
  margin-bottom: 1.25rem;
}

@media (max-width: 576px) {
  .controls {
    flex-direction: column;
    align-items: stretch;
    gap: 0.5rem;
  }

  .filterRow {
    display: flex;
    gap: 0.5rem;
  }

  .filterRow select {
    flex: 1;
    font-size: 0.8rem;
    padding: 0.5rem;
  }

  .registerButton {
    width: 100%;
    padding: 0.7rem;
    font-size: 0.9rem;
  }
}
```

#### ìƒì„¸ í˜ì´ì§€ - ëª¨ë°”ì¼ ë ˆì´ì•„ì›ƒ ì „í™˜

```
PC (768px+):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ìºë¦­í„° ì´ë¯¸ì§€]  â”‚  ìºë¦­í„°ëª…: êµ¬ì•„ë°”ë°¤ë°”ì•„              â”‚
â”‚                  â”‚  í´ë˜ìŠ¤: ìŠ¬ë ˆì´ì–´ | ì„œë²„: ë£¨í˜ì˜¨      â”‚
â”‚                  â”‚  ì‘ì„±ì: OOO | â¤ 12 | ğŸ‘ 34         â”‚
â”‚                  â”‚  ì„¤ëª…: "ë©”íƒˆ ë² ì–´ + ë‚¼ë¡¬ ì¡°í•©..."     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  â”€â”€ ê²‰ ì•„ë°”íƒ€ â”€â”€                                        â”‚
â”‚  [ì•„ì´ì½˜] ë¨¸ë¦¬: ë©”íƒˆ ë² ì–´ ë´‡ ë¨¸ë¦¬    ë“±ê¸‰: ì˜ì›…            â”‚
â”‚  â”Œâ”€ ì—¼ìƒ‰ ì •ë³´ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚  ë¶€ìœ„1: â–  #000000  ê´‘íƒ: 0%  íŒ¨í„´: â–  #FFFFFF   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚

ëª¨ë°”ì¼ (576px ì´í•˜):
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ìºë¦­í„° ì´ë¯¸ì§€ (ì „ì²´ ë„ˆë¹„)]  â”‚  â† aspect-ratio ìœ ì§€
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ìºë¦­í„°ëª…: êµ¬ì•„ë°”ë°¤ë°”ì•„       â”‚
â”‚  ìŠ¬ë ˆì´ì–´ | ë£¨í˜ì˜¨           â”‚
â”‚  OOO | â¤ 12 | ğŸ‘ 34       â”‚
â”‚  "ë©”íƒˆ ë² ì–´ + ë‚¼ë¡¬ ì¡°í•©..."  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”€â”€ ê²‰ ì•„ë°”íƒ€ â”€â”€            â”‚
â”‚  [ì•„ì´ì½˜] ë¨¸ë¦¬: ë©”íƒˆ ë² ì–´ ë´‡  â”‚
â”‚  ë“±ê¸‰: ì˜ì›…                  â”‚
â”‚  â”Œâ”€ ì—¼ìƒ‰ ì •ë³´ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ë¶€ìœ„1                 â”‚  â”‚
â”‚  â”‚  ê¸°ë³¸ìƒ‰: â–  #000000     â”‚  â”‚
â”‚  â”‚  ê´‘íƒ:   [====] 0%     â”‚  â”‚
â”‚  â”‚  íŒ¨í„´ìƒ‰: â–  #FFFFFF     â”‚  â”‚
â”‚  â”‚  HSV: 0.0 / 0.0 / 1.0 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```css
/* ìƒì„¸ í˜ì´ì§€ ë ˆì´ì•„ì›ƒ */
.detailLayout {
  display: grid;
  grid-template-columns: 300px 1fr;
  gap: 1.5rem;
}

@media (max-width: 768px) {
  .detailLayout {
    grid-template-columns: 1fr;     /* 1ì—´ ìŠ¤íƒ */
    gap: 1rem;
  }

  .characterHeader {
    padding: 1rem;
    border-radius: 16px;           /* 20px â†’ ì¶•ì†Œ */
  }

  .characterHeader::before {
    border-radius: 16px 16px 0 0;
  }

  .characterName {
    font-size: clamp(1.1rem, 4vw, 1.5rem);
  }

  /* ìºë¦­í„° ì´ë¯¸ì§€: ì „ì²´ ë„ˆë¹„, ë¹„ìœ¨ ìœ ì§€ */
  .detailImageWrapper {
    width: 100%;
    max-width: 300px;
    margin: 0 auto;
    aspect-ratio: 3 / 4;
  }
}

@media (max-width: 576px) {
  .characterHeader {
    padding: 0.75rem;
    border-radius: 12px;
  }

  /* ì•„ë°”íƒ€ ë¶€ìœ„ ì¹´ë“œ ì¶•ì†Œ */
  .avatarPartCard {
    padding: 0.75rem;
    border-radius: 10px;
  }

  .avatarPartCard:hover {
    transform: none;              /* ëª¨ë°”ì¼ì—ì„œ í˜¸ë²„ ì œê±° */
  }
}
```

#### ì—¼ìƒ‰ í¸ì§‘ê¸° - ëª¨ë°”ì¼ í„°ì¹˜ ìµœì í™”

```
PC:
â”Œâ”€ ë¶€ìœ„1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ê¸°ë³¸ìƒ‰  [â– ] #FF5500  [ì»¬ëŸ¬í”¼ì»¤]    ê´‘íƒ [====â—===] 50%  â”‚
â”‚  íŒ¨í„´ìƒ‰  [â– ] #FFFFFF  [ì»¬ëŸ¬í”¼ì»¤]                         â”‚
â”‚  HSV  H [â—========] 0.00  S [â—========] 0.00  V [========â—] 1.00  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ëª¨ë°”ì¼ (576px ì´í•˜) - ì„¸ë¡œ ìŠ¤íƒ:
â”Œâ”€ ë¶€ìœ„1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ê¸°ë³¸ìƒ‰                    â”‚
â”‚  [â–  ì»¬ëŸ¬í”¼ì»¤] #FF5500      â”‚
â”‚                           â”‚
â”‚  ê´‘íƒ                      â”‚
â”‚  [===========â—=====] 50%  â”‚  â† ì „ì²´ ë„ˆë¹„ ìŠ¬ë¼ì´ë”
â”‚                           â”‚
â”‚  íŒ¨í„´ìƒ‰                    â”‚
â”‚  [â–  ì»¬ëŸ¬í”¼ì»¤] #FFFFFF      â”‚
â”‚                           â”‚
â”‚  ìƒ‰ì¡°(H)                   â”‚
â”‚  [â—===================] 0.00 â”‚
â”‚  ì±„ë„(S)                   â”‚
â”‚  [â—===================] 0.00 â”‚
â”‚  ëª…ë„(V)                   â”‚
â”‚  [===================â—] 1.00 â”‚
â”‚                           â”‚
â”‚  [ë¯¸ë¦¬ë³´ê¸° ë°•ìŠ¤]            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

```css
/* ì—¼ìƒ‰ í¸ì§‘ê¸° ëª¨ë°”ì¼ */
@media (max-width: 576px) {
  .dyePartSection {
    padding: 0.75rem;
    border-radius: 8px;
  }

  /* ê°€ë¡œ ë°°ì¹˜ â†’ ì„¸ë¡œ ìŠ¤íƒ */
  .colorRow {
    flex-direction: column;
    align-items: flex-start;
    gap: 0.4rem;
  }

  .colorLabel {
    min-width: auto;
    font-size: 0.75rem;
    font-weight: 600;
  }

  .colorControls {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    width: 100%;
  }

  /* ì»¬ëŸ¬í”¼ì»¤ í„°ì¹˜ ì˜ì—­ í™•ëŒ€ (ìµœì†Œ 44px) */
  .colorInput {
    width: 44px;
    height: 44px;                  /* 36px â†’ 44px (iOS í„°ì¹˜ ìµœì†Œ) */
    border-radius: 10px;
  }

  /* HEX ì…ë ¥ í™•ëŒ€ */
  .hexInput {
    flex: 1;
    font-size: 0.85rem;
    padding: 8px 10px;
    min-height: 44px;              /* í„°ì¹˜ ìµœì†Œ ë†’ì´ */
  }

  /* ìŠ¬ë¼ì´ë” í„°ì¹˜ ì˜ì—­ í™•ëŒ€ */
  .slider {
    height: 8px;                   /* 6px â†’ 8px */
  }

  .slider::-webkit-slider-thumb {
    width: 24px;                   /* 18px â†’ 24px */
    height: 24px;
  }

  /* HSV ìŠ¬ë¼ì´ë” ë¼ë²¨ */
  .sliderRow {
    flex-direction: column;
    gap: 0.75rem;
  }

  .sliderRow .sliderGroup {
    width: 100%;                   /* ê°€ë¡œ ë¶„í•  â†’ ì „ì²´ ë„ˆë¹„ */
  }
}
```

**í„°ì¹˜ ì¸í„°ë™ì…˜ í•µì‹¬ ì›ì¹™**:
- ëª¨ë“  í„°ì¹˜ íƒ€ê²Ÿ ìµœì†Œ **44px Ã— 44px** (Apple HIG ê¸°ì¤€)
- ì»¬ëŸ¬í”¼ì»¤: ë„¤ì´í‹°ë¸Œ `<input type="color">` ì‚¬ìš© â†’ OSë³„ í„°ì¹˜ ìµœì í™”ëœ í”¼ì»¤ ìë™ ì œê³µ
- ìŠ¬ë¼ì´ë”: thumb í¬ê¸° í™•ëŒ€, íŠ¸ë™ ë†’ì´ í™•ëŒ€
- í˜¸ë²„ íš¨ê³¼(`transform: translateY`): 576px ì´í•˜ì—ì„œ ì œê±° (ëª¨ë°”ì¼ì—ì„œ sticky hover ë¬¸ì œ ë°©ì§€)
- ì¹´ë“œ íƒ­ ì‹œ `:active` ìƒíƒœë¡œ í”¼ë“œë°± ì œê³µ

```css
/* ëª¨ë°”ì¼ í„°ì¹˜ í”¼ë“œë°± */
@media (max-width: 576px) {
  .galleryCard:active {
    transform: scale(0.98);
    transition: transform 0.1s;
  }

  /* hover íš¨ê³¼ ë¹„í™œì„±í™” */
  .galleryCard:hover {
    transform: none;
    box-shadow: var(--shadow-md);  /* ê¸°ë³¸ ê·¸ë¦¼ì ìœ ì§€ */
  }
}

/* ë˜ëŠ” @media (hover: none)ìœ¼ë¡œ í„°ì¹˜ ë””ë°”ì´ìŠ¤ êµ¬ë¶„ */
@media (hover: none) {
  .galleryCard:hover {
    transform: none;
    box-shadow: var(--shadow-md);
  }
  .galleryCard:active {
    transform: scale(0.98);
  }
}
```

#### ë“±ë¡ í˜ì´ì§€ - ëª¨ë°”ì¼ ìµœì í™”

```
PC:
[Step 1] ìºë¦­í„°ëª…: [____________________] [ê²€ìƒ‰]

ëª¨ë°”ì¼:
[Step 1]
ìºë¦­í„°ëª…:
[____________________________________]
[          ê²€ìƒ‰          ]  â† ì „ì²´ ë„ˆë¹„ ë²„íŠ¼
```

```css
@media (max-width: 576px) {
  .searchForm {
    flex-direction: column;
    max-width: 100%;
  }

  .searchInput {
    width: 100%;
    font-size: 16px;              /* iOS í™•ëŒ€ ë°©ì§€: 16px ì´ìƒ í•„ìˆ˜ */
    padding: 0.75rem 1rem;
  }

  .searchButton {
    width: 100%;
    padding: 0.75rem;
  }

  /* ë¯¸ë¦¬ë³´ê¸° ì•„ë°”íƒ€ ëª©ë¡ */
  .previewAvatarList {
    font-size: 0.8rem;
  }

  .previewAvatarItem {
    padding: 0.6rem;
    gap: 0.5rem;
  }

  /* ì•„ë°”íƒ€ ì•„ì´ì½˜ ì¶•ì†Œ */
  .previewAvatarIcon {
    width: 32px;                  /* 40px â†’ 32px */
    height: 32px;
  }

  /* ì œëª©/ì„¤ëª… ì…ë ¥ */
  .titleInput, .descriptionInput {
    font-size: 16px;              /* iOS í™•ëŒ€ ë°©ì§€ */
  }
}
```

**iOS ì£¼ì˜ì‚¬í•­**:
- `font-size: 16px` ë¯¸ë§Œ ì…ë ¥ í•„ë“œëŠ” iOSì—ì„œ ìë™ í™•ëŒ€(zoom)ë¨
- ëª¨ë“  input/textareaì— ìµœì†Œ `font-size: 16px` ì ìš©
- `<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">` ì‚¬ìš©ì€ ì ‘ê·¼ì„± ì´ìŠˆë¡œ ë¹„ê¶Œì¥

#### ëª¨ë°”ì¼ ìŠ¤ì¼ˆë ˆí†¤ UI

```css
/* ëª¨ë°”ì¼ ìŠ¤ì¼ˆë ˆí†¤ë„ ë™ì¼í•œ ê·¸ë¦¬ë“œ ë”°ë¼ê° */
@media (max-width: 576px) {
  .skeletonGrid {
    grid-template-columns: repeat(2, 1fr);
    gap: 0.5rem;
  }

  .skeletonCard {
    border-radius: 8px;
  }

  .skeletonImageArea {
    aspect-ratio: 3 / 4;          /* ì‹¤ì œ ì¹´ë“œì™€ ë™ì¼í•œ ë¹„ìœ¨ */
  }

  .skeletonTextLine {
    height: 10px;                  /* 12px â†’ ì¶•ì†Œ */
    border-radius: 4px;
  }
}
```

#### ëª¨ë°”ì¼ ëŒ€ì‘ ë¸Œë ˆì´í¬í¬ì¸íŠ¸ ì´ì •ë¦¬

| ë¸Œë ˆì´í¬í¬ì¸íŠ¸ | ê°¤ëŸ¬ë¦¬ ê·¸ë¦¬ë“œ | ìƒì„¸ ë ˆì´ì•„ì›ƒ | ì—¼ìƒ‰ í¸ì§‘ê¸° | ì¹´ë“œ ë¼ìš´ë”© | ì£¼ìš” ë³€ê²½ |
|--------------|-------------|-------------|-----------|-----------|----------|
| 1200px+ (PC) | 4ì—´ auto-fill | 2ì—´ (ì´ë¯¸ì§€+ì •ë³´) | ê°€ë¡œ ë°°ì¹˜ | 12px | ê¸°ë³¸ |
| 768px (íƒœë¸”ë¦¿) | 3ì—´ | 1ì—´ ìŠ¤íƒ | ê°€ë¡œ ë°°ì¹˜ ìœ ì§€ | 12px | ë ˆì´ì•„ì›ƒ ì „í™˜ |
| 576px (ëª¨ë°”ì¼) | 2ì—´ | 1ì—´ ìŠ¤íƒ | ì„¸ë¡œ ìŠ¤íƒ | 8px | í°íŠ¸/íŒ¨ë”© ì¶•ì†Œ, í˜¸ë²„ ì œê±° |
| 400px (ì´ˆì†Œí˜•) | 2ì—´ (ê°„ê²©â†“) | 1ì—´ ìŠ¤íƒ | ì„¸ë¡œ ìŠ¤íƒ | 8px | ê·¹ë‹¨ì  ì¶•ì†Œ |

---

## 15. ì‹¤ì œ API ì‘ë‹µ ì°¸ê³  (êµ¬ì•„ë°”ë°¤ë°”ì•„ ìºë¦­í„°)

ì•„ë˜ëŠ” ì‹¤ì œ API í˜¸ì¶œë¡œ í™•ì¸í•œ ë°ì´í„° êµ¬ì¡°ì´ë‹¤.

### ì•„ë°”íƒ€ ì•„ì´í…œ ê¸°ë³¸ í•„ë“œ
```json
{
  "Type": "ë¨¸ë¦¬ ì•„ë°”íƒ€",
  "Name": "ë©”íƒˆ ë² ì–´ ë´‡ ë¨¸ë¦¬",
  "Icon": "https://cdn-lostark.game.onstove.com/efui_iconatlas/event_avatar/event_avatar_873.png",
  "Grade": "ì˜ì›…",
  "IsSet": false,
  "IsInner": false,
  "Tooltip": "{ ... JSON ë¬¸ìì—´ ... }"
}
```

### Tooltip ë‚´ ì—¼ìƒ‰ ì •ë³´ (ItemTintGroup)
```json
{
  "type": "ItemTintGroup",
  "value": {
    "title": "<FONT COLOR='#A9D0F5'>ì—¼ìƒ‰ ì •ë³´</FONT>",
    "itemData": {
      "Element_000": {
        "title": "ë¶€ìœ„1",
        "baseColor": "#000000",
        "glossValue": "0%",
        "patternColor": "#FFFFFF",
        "patternHSV": {
          "Element_000": 0.0,
          "Element_001": 0.0,
          "Element_002": 1.0
        },
        "patternIcon": null
      }
    }
  }
}
```

### ì—¼ìƒ‰ ìˆëŠ” ì•„ë°”íƒ€ (ë‚¼ë¡¬ ì˜ë¡œ ëºŒ ëª¸í†µ - 3ë¶€ìœ„)
- ë¶€ìœ„1, ë¶€ìœ„2, ë¶€ìœ„3 ê°ê° ë…ë¦½ì ì¸ ì—¼ìƒ‰ ì„¤ì •
- ê° ë¶€ìœ„: baseColor, glossValue, patternColor, patternHSV, patternIcon

### ì—¼ìƒ‰ ì—†ëŠ” ì•„ë°”íƒ€ (ì§€ë°°ì˜ ì˜ì› ì‹œë¦¬ì¦ˆ)
- Tooltipì— ItemTintGroup ìš”ì†Œê°€ ì¡´ì¬í•˜ì§€ ì•ŠìŒ
- `dyeInfo: null`ë¡œ ì²˜ë¦¬

---

## 16. ì˜ˆìƒ ì´ìŠˆ & í•´ê²° ë°©ì•ˆ

| ì´ìŠˆ | í•´ê²° ë°©ì•ˆ |
|------|----------|
| ë¡œì•„ API ì´ë¯¸ì§€ CORS | Next.js configì— `images.remotePatterns` ì¶”ê°€ |
| ë¡œì•„ API Rate Limit (ë¶„ë‹¹ 100) | ë“±ë¡ ì‹œì—ë§Œ í˜¸ì¶œ, **Netlify CDN ìºì‹œë¡œ ì¤‘ë³µ í˜¸ì¶œ ì œê±°** |
| ìºë¦­í„° ì´ë¯¸ì§€ ë§Œë£Œ/ê¹¨ì§ | **Firebase Storageì— ë³µì‚¬ ì €ì¥, ì›ë³¸ URLì€ ë°±ì—…ìš©ìœ¼ë¡œ ë³´ê´€** |
| ê°¤ëŸ¬ë¦¬ ì´ë¯¸ì§€ ë¡œë”© ëŠë¦¼ | **ì¸ë„¤ì¼(30KB) + dominantColor ë°°ê²½ + lazy loading** |
| ëŒ€ëŸ‰ ê²Œì‹œë¬¼ ì¡°íšŒ ì„±ëŠ¥ | Firestore í˜ì´ì§€ë„¤ì´ì…˜ + ì¸ë±ìŠ¤ + **ì˜¤í”„ë¼ì¸ ìºì‹œ** |
| ì´ë¯¸ì§€ WebP ë³€í™˜ | `sharp` ë¼ì´ë¸ŒëŸ¬ë¦¬ ë˜ëŠ” Firebase Extensions í™œìš© |
| ì»¬ëŸ¬í”¼ì»¤ ëª¨ë°”ì¼ í˜¸í™˜ | ë„¤ì´í‹°ë¸Œ input[type=color] ìš°ì„  ì‚¬ìš© |
| ì•„ë°”íƒ€ ë¹„ê³µê°œ ì„¤ì • ìºë¦­í„° | APIê°€ null ë°˜í™˜ ì‹œ ì•ˆë‚´ ë©”ì‹œì§€ |
