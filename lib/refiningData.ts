export const JANGIN_ACCUMULATE_DIVIDER = 2.15;

// 계승 전 (일반) 기본 확률
export const BASE_PROBABILITY: { [level: number]: number } = {
  11: 0.10, 12: 0.10,
  13: 0.05, 14: 0.05,
  15: 0.04, 16: 0.04,
  17: 0.03, 18: 0.03, 19: 0.03,
  20: 0.015, 21: 0.015,
  22: 0.01, 23: 0.01,
  24: 0.005, 25: 0.005,
};

// 계승 후 기본 확률 (장비 계승 후 11단계부터 시작)
export const SUCCESSION_BASE_PROBABILITY: { [level: number]: number } = {
  11: 0.05, 12: 0.05,       // 5%
  13: 0.04, 14: 0.04, 15: 0.04, // 4%
  16: 0.03, 17: 0.03, 18: 0.03, // 3%
  19: 0.015, 20: 0.015,     // 1.5%
  21: 0.01, 22: 0.01,       // 1%
  23: 0.005, 24: 0.005,     // 0.5%
  // 25단계는 최대 레벨
};

export const ARMOR_MATERIAL_COSTS: { [level: number]: { 수호석: number; 돌파석: number; 아비도스: number; 운명파편: number; 골드: number } } = {
  11: { "수호석": 750, "돌파석": 11, "아비도스": 7, "운명파편": 3000, "골드": 776 },
  12: { "수호석": 780, "돌파석": 13, "아비도스": 7, "운명파편": 3180, "골드": 856 },
  13: { "수호석": 840, "돌파석": 14, "아비도스": 9, "운명파편": 4560, "골드": 952 },
  14: { "수호석": 930, "돌파석": 16, "아비도스": 9, "운명파편": 4920, "골드": 1056 },
  15: { "수호석": 1020, "돌파석": 18, "아비도스": 11, "운명파편": 5280, "골드": 1168 },
  16: { "수호석": 1170, "돌파석": 20, "아비도스": 11, "운명파편": 5640, "골드": 1280 },
  17: { "수호석": 1320, "돌파석": 22, "아비도스": 15, "운명파편": 7200, "골드": 1408 },
  18: { "수호석": 1470, "돌파석": 23, "아비도스": 15, "운명파편": 7740, "골드": 1544 },
  19: { "수호석": 1620, "돌파석": 25, "아비도스": 15, "운명파편": 8220, "골드": 2110 },
  20: { "수호석": 1770, "돌파석": 27, "아비도스": 21, "운명파편": 9600, "골드": 2300 },
  21: { "수호석": 1920, "돌파석": 29, "아비도스": 21, "운명파편": 10260, "골드": 2500 },
  22: { "수호석": 2220, "돌파석": 31, "아비도스": 21, "운명파편": 10920, "골드": 2710 },
  23: { "수호석": 2400, "돌파석": 34, "아비도스": 21, "운명파편": 11520, "골드": 2920 },
  24: { "수호석": 2520, "돌파석": 36, "아비도스": 30, "운명파편": 12240, "골드": 3150 },
  25: { "수호석": 2700, "돌파석": 40, "아비도스": 30, "운명파편": 12900, "골드": 3390 },
};

export const WEAPON_MATERIAL_COSTS: { [level: number]: { 파괴석: number; 돌파석: number; 아비도스: number; 운명파편: number; 골드: number } } = {
  11: { "파괴석": 1250, "돌파석": 18, "아비도스": 12, "운명파편": 5000, "골드": 1296 },
  12: { "파괴석": 1300, "돌파석": 21, "아비도스": 12, "운명파편": 5300, "골드": 1432 },
  13: { "파괴석": 1400, "돌파석": 24, "아비도스": 15, "운명파편": 7600, "골드": 1592 },
  14: { "파괴석": 1550, "돌파석": 27, "아비도스": 15, "운명파편": 8200, "골드": 1760 },
  15: { "파괴석": 1700, "돌파석": 30, "아비도스": 18, "운명파편": 8800, "골드": 1944 },
  16: { "파괴석": 1950, "돌파석": 33, "아비도스": 18, "운명파편": 9400, "골드": 2136 },
  17: { "파괴석": 2200, "돌파석": 36, "아비도스": 25, "운명파편": 12000, "골드": 2352 },
  18: { "파괴석": 2450, "돌파석": 39, "아비도스": 25, "운명파편": 12900, "골드": 2576 },
  19: { "파괴석": 2700, "돌파석": 42, "아비도스": 25, "운명파편": 13700, "골드": 3510 },
  20: { "파괴석": 2950, "돌파석": 45, "아비도스": 35, "운명파편": 16000, "골드": 3830 },
  21: { "파괴석": 3200, "돌파석": 48, "아비도스": 35, "운명파편": 17100, "골드": 4160 },
  22: { "파괴석": 3700, "돌파석": 52, "아비도스": 35, "운명파편": 18200, "골드": 4510 },
  23: { "파괴석": 4000, "돌파석": 56, "아비도스": 35, "운명파편": 19200, "골드": 4870 },
  24: { "파괴석": 4200, "돌파석": 60, "아비도스": 50, "운명파편": 20400, "골드": 5250 },
  25: { "파괴석": 4500, "돌파석": 65, "아비도스": 50, "운명파편": 21500, "골드": 5650 },
};

// ========================================
// 계승 후 재련 재료 비용 (재료: 수호석 결정, 위대한 돌파석, 상급 아비도스, 운명파편, 골드)
// ※ 유추된 데이터 - 기존 13~25단계 데이터를 기반으로 매핑 (추후 실제 데이터로 수정 필요)
// 매핑 규칙: 11,12(5%)←기존13,14 / 13,14(4%)←기존15,16 / 15(4%)←추정 / 16,17,18(3%)←기존17,18,19 / 19,20(1.5%)←기존20,21 / 21,22(1%)←기존22,23 / 23,24(0.5%)←기존24,25
// ========================================
export const SUCCESSION_ARMOR_MATERIAL_COSTS: { [level: number]: { 수호석결정: number; 위대한돌파석: number; 상급아비도스: number; 운명파편: number; 골드: number } } = {
  11: { "수호석결정": 840, "위대한돌파석": 14, "상급아비도스": 9, "운명파편": 4560, "골드": 1190 },   // 5%
  12: { "수호석결정": 930, "위대한돌파석": 16, "상급아비도스": 9, "운명파편": 4920, "골드": 1320 },   // 5%
  13: { "수호석결정": 1020, "위대한돌파석": 18, "상급아비도스": 11, "운명파편": 5280, "골드": 1460 }, // 4%
  14: { "수호석결정": 1170, "위대한돌파석": 20, "상급아비도스": 11, "운명파편": 5640, "골드": 1600 }, // 4%
  15: { "수호석결정": 1250, "위대한돌파석": 21, "상급아비도스": 11, "운명파편": 6420, "골드": 1680 }, // 4% (추정)
  16: { "수호석결정": 1320, "위대한돌파석": 22, "상급아비도스": 15, "운명파편": 7200, "골드": 1760 }, // 3%
  17: { "수호석결정": 1470, "위대한돌파석": 23, "상급아비도스": 15, "운명파편": 7740, "골드": 1930 }, // 3%
  18: { "수호석결정": 1620, "위대한돌파석": 25, "상급아비도스": 15, "운명파편": 8220, "골드": 2110 }, // 3%
  19: { "수호석결정": 1770, "위대한돌파석": 27, "상급아비도스": 21, "운명파편": 9600, "골드": 2300 }, // 1.5%
  20: { "수호석결정": 1920, "위대한돌파석": 29, "상급아비도스": 21, "운명파편": 10260, "골드": 2500 }, // 1.5%
  21: { "수호석결정": 2220, "위대한돌파석": 31, "상급아비도스": 21, "운명파편": 10920, "골드": 2710 }, // 1%
  22: { "수호석결정": 2400, "위대한돌파석": 34, "상급아비도스": 21, "운명파편": 11520, "골드": 2920 }, // 1%
  23: { "수호석결정": 2520, "위대한돌파석": 36, "상급아비도스": 30, "운명파편": 12240, "골드": 3150 }, // 0.5%
  24: { "수호석결정": 2700, "위대한돌파석": 40, "상급아비도스": 30, "운명파편": 12900, "골드": 3390 }, // 0.5%
};

// 계승 후 무기 재련 재료 비용 (재료: 파괴석 결정, 위대한 돌파석, 상급 아비도스, 운명파편, 골드)
// ※ 유추된 데이터 - 기존 13~25단계 데이터를 기반으로 매핑 (추후 실제 데이터로 수정 필요)
export const SUCCESSION_WEAPON_MATERIAL_COSTS: { [level: number]: { 파괴석결정: number; 위대한돌파석: number; 상급아비도스: number; 운명파편: number; 골드: number } } = {
  11: { "파괴석결정": 1400, "위대한돌파석": 24, "상급아비도스": 15, "운명파편": 7600, "골드": 1990 },   // 5%
  12: { "파괴석결정": 1550, "위대한돌파석": 27, "상급아비도스": 15, "운명파편": 8200, "골드": 2200 },   // 5%
  13: { "파괴석결정": 1700, "위대한돌파석": 30, "상급아비도스": 18, "운명파편": 8800, "골드": 2430 },   // 4%
  14: { "파괴석결정": 1950, "위대한돌파석": 33, "상급아비도스": 18, "운명파편": 9400, "골드": 2670 },   // 4%
  15: { "파괴석결정": 2080, "위대한돌파석": 35, "상급아비도스": 18, "운명파편": 10700, "골드": 2800 },  // 4% (추정)
  16: { "파괴석결정": 2200, "위대한돌파석": 36, "상급아비도스": 25, "운명파편": 12000, "골드": 2940 },  // 3%
  17: { "파괴석결정": 2450, "위대한돌파석": 39, "상급아비도스": 25, "운명파편": 12900, "골드": 3220 },  // 3%
  18: { "파괴석결정": 2700, "위대한돌파석": 42, "상급아비도스": 25, "운명파편": 13700, "골드": 3510 },  // 3%
  19: { "파괴석결정": 2950, "위대한돌파석": 45, "상급아비도스": 35, "운명파편": 16000, "골드": 3830 },  // 1.5%
  20: { "파괴석결정": 3200, "위대한돌파석": 48, "상급아비도스": 35, "운명파편": 17100, "골드": 4160 },  // 1.5%
  21: { "파괴석결정": 3700, "위대한돌파석": 52, "상급아비도스": 35, "운명파편": 18200, "골드": 4510 },  // 1%
  22: { "파괴석결정": 4000, "위대한돌파석": 56, "상급아비도스": 35, "운명파편": 19200, "골드": 4870 },  // 1%
  23: { "파괴석결정": 4200, "위대한돌파석": 60, "상급아비도스": 50, "운명파편": 20400, "골드": 5250 },  // 0.5%
  24: { "파괴석결정": 4500, "위대한돌파석": 65, "상급아비도스": 50, "운명파편": 21500, "골드": 5650 },  // 0.5%
};

type BreathEffect = { max: number; per: number };
const BREATH_EFFECT_TABLE: { [prob: number]: BreathEffect } = {
  0.10: { max: 20, per: 0.005 },
  0.05: { max: 20, per: 0.0025 },
  0.04: { max: 20, per: 0.002 },
  0.03: { max: 20, per: 0.0015 },
  0.015: { max: 25, per: 0.0006 },
  0.01: { max: 25, per: 0.0004 },
  0.005: { max: 50, per: 0.0002 },
};

export const getBreathEffect = (baseProb: number): BreathEffect => {
  return BREATH_EFFECT_TABLE[baseProb] || { max: 0, per: 0 };
};
